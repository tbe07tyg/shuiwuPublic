import{a4 as de,c as V,f as x,o as re,S as m,U as v,V as h,W as s,k as t,X as a,u as f,Z as o,G as l,m as pe,A as ue,_ as y,a0 as _,a6 as ce}from"./vendor-9e962977.js";import{_ as ve}from"./index-b9d63c8b.js";import{K as me,F as _e,E as F,r as D,v as fe,f as ge,z as be,Q as ye,V as Ce,b as ke,m as P,W as je}from"./antd-3abeaf7b.js";const we={class:"applicant-manage-container"},xe={class:"page-header"},he={class:"header-actions"},Ie={class:"stats-overview"},Re={class:"stats-flex-container"},Te={class:"stat-icon"},ze={class:"stat-content"},$e={class:"stat-number"},Ne={class:"stat-icon"},Se={class:"stat-content"},Oe={class:"stat-number"},Pe={class:"stat-icon"},qe={class:"stat-content"},Ue={class:"stat-number"},Me={class:"stat-icon"},Ve={class:"stat-content"},Fe={class:"stat-number"},De={class:"stat-icon"},Je={class:"stat-content"},Ae={class:"stat-number"},Be={class:"stat-icon"},Ee={class:"stat-content"},Qe={class:"stat-number"},We={class:"stat-icon"},Ge={class:"stat-content"},Ke={class:"stat-number"},Xe={class:"flow-content"},Ze={class:"step-description"},He={class:"step-status-tags"},Le={class:"step-description"},Ye={class:"step-status-tags"},et={class:"step-description"},tt={class:"step-status-tags"},at={class:"card-title-with-total"},st={class:"header-filters"},it={key:1,class:"progress-info"},lt={class:"progress-text"},nt={key:0,class:"detail-modal"},ot={class:"detail-section"},dt={key:0,class:"detail-section"},rt={key:1,class:"detail-section"},pt={class:"requirements-text"},ut={key:2,class:"detail-section"},ct={class:"rejection-reason"},vt={__name:"manage",setup(mt){const I=de(),k=V(()=>{const i=C.value.length,e=C.value.filter(r=>r.status==="material_reviewing").length,p=C.value.filter(r=>r.status==="material_rejected").length,w=C.value.filter(r=>r.status==="meeting_preparing").length,b=C.value.filter(r=>r.status==="meeting_scheduled").length,S=C.value.filter(r=>r.status==="approval_passed").length,z=C.value.filter(r=>r.status==="approval_conditional").length,O=C.value.filter(r=>r.status==="approval_failed").length;return{total:i,materialReviewing:e,materialRejected:p,meetingPreparing:w,meetingScheduled:b,approvalPassed:S,approvalConditional:z,approvalFailed:O}}),g=x({status:"",keyword:""}),R=x(!1),T=x(!1),n=x(null),C=x([{id:1,year:"2024",projectName:"æ™ºæ…§åŸå¸‚å¤§æ•°æ®å¹³å°å»ºè®¾é¡¹ç›®",applicant:"ç‹äº”",department:"æŠ€æœ¯éƒ¨",duration:18,budget:200,submitTime:"2024-01-15",status:"material_reviewing",projectCode:"PROJ-2024-001",expectedTime:"2024-03-15",description:"æ„å»ºåŸå¸‚çº§å¤§æ•°æ®åˆ†æå¹³å°ï¼Œæ”¯æŒå¤šæºæ•°æ®æ¥å…¥å’Œå®æ—¶åˆ†æ",materialRejected:!0,rejectionInfo:{time:"2024-01-18",reviewer:"å¼ å®¡æ ¸å‘˜",comments:"ææ–™åŸºæœ¬ç¬¦åˆè¦æ±‚ï¼Œä½†éœ€è¦å®Œå–„éƒ¨åˆ†å†…å®¹ã€‚",rejectionReason:"1. é¡¹ç›®ç”³è¯·ä¹¦ä¸­ç¼ºå°‘è¯¦ç»†çš„æŠ€æœ¯æŒ‡æ ‡ï¼›2. æŠ€æœ¯æ–¹æ¡ˆéœ€è¦è¡¥å……ç³»ç»Ÿæ¶æ„å›¾ï¼›3. è¯·æä¾›é¢„ç®—æ˜ç»†è¡¨ã€‚"}},{id:2,year:"2024",projectName:"åŒºå—é“¾ä¾›åº”é“¾é‡‘èå¹³å°",applicant:"èµµå…­",department:"å·¥ç¨‹éƒ¨",duration:12,budget:150,submitTime:"2024-01-20",status:"meeting_preparing",projectCode:"PROJ-2024-002",expectedTime:"2024-03-20",description:"åŸºäºåŒºå—é“¾æŠ€æœ¯çš„ä¾›åº”é“¾é‡‘èè§£å†³æ–¹æ¡ˆ"},{id:3,year:"2024",projectName:"ç‰©è”ç½‘ç¯å¢ƒç›‘æµ‹ç³»ç»Ÿ",applicant:"ææ˜",department:"è‡ªåŠ¨åŒ–éƒ¨",duration:24,budget:180,submitTime:"2024-01-12",status:"meeting_scheduled",projectCode:"PROJ-2024-003",expectedTime:"2024-03-12",description:"éƒ¨ç½²IoTä¼ æ„Ÿå™¨ç½‘ç»œï¼Œå®ç°ç¯å¢ƒæ•°æ®å®æ—¶ç›‘æ§",meetingInfo:{time:"2024-01-25 14:00",location:"ä¼šè®®å®¤A301",type:"offline",description:"é¡¹ç›®ç«‹é¡¹ä¼šè®®ï¼Œé‡ç‚¹è¯„å®¡ç¯å¢ƒç›‘æµ‹ç³»ç»Ÿçš„æŠ€æœ¯å®ç°"}},{id:4,year:"2024",projectName:"ç”µå­å•†åŠ¡æ•°æ®åˆ†æç³»ç»Ÿ",applicant:"ç‹å¼º",department:"ä¿¡æ¯éƒ¨",duration:15,budget:220,submitTime:"2024-01-08",status:"approval_passed",projectCode:"PROJ-2024-004",expectedTime:"2024-03-08",description:"æ•°æ®åˆ†æç³»ç»Ÿå¼€å‘å®Œæˆï¼ŒåŠŸèƒ½å®Œå–„",conclusion:{result:"passed",score:92,time:"2024-01-22",description:"é¡¹ç›®ç«‹é¡¹é€šè¿‡ï¼Œç³»ç»ŸåŠŸèƒ½å®Œæ•´ï¼ŒæŠ€æœ¯æŒ‡æ ‡è¾¾æ ‡ã€‚",feedback:"é¡¹ç›®ç«‹é¡¹é€šè¿‡ï¼ŒæŠ€æœ¯æ–¹æ¡ˆå¯è¡Œï¼Œé¢„ç®—åˆç†ã€‚"}},{id:5,year:"2024",projectName:"åœ¨çº¿æ•™è‚²ç®¡ç†å¹³å°",applicant:"å¼ å",department:"æ•™è‚²éƒ¨",duration:20,budget:160,submitTime:"2024-01-03",status:"approval_conditional",projectCode:"PROJ-2024-005",expectedTime:"2024-03-03",description:"åœ¨çº¿æ•™è‚²ç®¡ç†å¹³å°å¼€å‘",conclusion:{result:"conditional_passed",score:82,time:"2024-01-21",description:"é¡¹ç›®åŸºæœ¬è¾¾åˆ°ç«‹é¡¹è¦æ±‚ï¼Œæœ‰æ¡ä»¶é€šè¿‡ç«‹é¡¹ã€‚",requirements:"1. å®Œå–„æ•°æ®å¤‡ä»½æœºåˆ¶ï¼›2. ä¼˜åŒ–ç³»ç»Ÿç•Œé¢å¸ƒå±€ï¼›3. 30å¤©å†…æäº¤æ•´æ”¹ç¡®è®¤ã€‚",feedback:"é¡¹ç›®åŸºæœ¬è¾¾åˆ°ç«‹é¡¹è¦æ±‚ï¼Œæœ‰æ¡ä»¶é€šè¿‡ç«‹é¡¹ã€‚éœ€è¦åœ¨æŒ‡å®šæ—¶é—´å†…å®Œæˆæ•´æ”¹è¦æ±‚ã€‚"},improvementSubmitted:!1},{id:6,year:"2024",projectName:"ç§»åŠ¨åŠå…¬åº”ç”¨ç³»ç»Ÿ",applicant:"åˆ˜æ¶›",department:"ç§»åŠ¨éƒ¨",duration:14,budget:130,submitTime:"2024-01-05",status:"approval_failed",projectCode:"PROJ-2024-006",expectedTime:"2024-03-05",description:"ç§»åŠ¨åŠå…¬åº”ç”¨ç³»ç»Ÿå¼€å‘",conclusion:{result:"failed",score:68,time:"2024-01-20",description:"é¡¹ç›®ç«‹é¡¹æœªé€šè¿‡ï¼Œç³»ç»Ÿç¨³å®šæ€§æœ‰å¾…æå‡ï¼Œéœ€è¦å®Œå–„ç›¸å…³åŠŸèƒ½ã€‚",requirements:"1. ä¼˜åŒ–ç³»ç»Ÿæ€§èƒ½ï¼›2. å®Œå–„ç”¨æˆ·ç•Œé¢ï¼›3. è¡¥å……æµ‹è¯•æ–‡æ¡£ã€‚",feedback:"é¡¹ç›®ç«‹é¡¹æœªé€šè¿‡ï¼Œç³»ç»Ÿç¨³å®šæ€§æœ‰å¾…æå‡ï¼Œéœ€è¦å®Œå–„ç›¸å…³åŠŸèƒ½ã€‚å»ºè®®é‡æ–°ä¿®æ”¹æ–¹æ¡ˆåå†æ¬¡ç”³è¯·ã€‚"}}]),J=[{title:"å¹´åº¦",dataIndex:"year",width:80},{title:"ç«‹é¡¹åç§°",dataIndex:"projectName",width:220,ellipsis:!0},{title:"ç”³è¯·äºº",dataIndex:"applicant",width:100},{title:"ç”³è¯·å•ä½",dataIndex:"department",width:140,ellipsis:!0},{title:"é¡¹ç›®å‘¨æœŸ(æœˆ)",dataIndex:"duration",width:120},{title:"é¢„ç®—(ä¸‡å…ƒ)",dataIndex:"budget",width:110},{title:"ç”³è¯·æ—¶é—´",dataIndex:"submitTime",width:120},{title:"çŠ¶æ€",key:"status",width:120},{title:"æ“ä½œ",key:"actions",width:160,fixed:"right"}],q=x({current:1,pageSize:10,total:0,showSizeChanger:!0,showQuickJumper:!0,showTotal:i=>`å…± ${i} æ¡è®°å½•`}),A=V(()=>{let i=C.value;return g.value.status&&(i=i.filter(e=>e.status===g.value.status)),g.value.keyword&&(i=i.filter(e=>e.projectName.includes(g.value.keyword)||e.projectCode.includes(g.value.keyword))),q.value.total=i.length,i}),U=i=>({material_reviewing:"orange",meeting_preparing:"blue",meeting_scheduled:"cyan",approval_passed:"green",approval_conditional:"orange",approval_failed:"red"})[i]||"default",M=i=>({material_reviewing:"ææ–™å®¡æ ¸ä¸­",meeting_preparing:"ä¼šè®®å¾…ç»„ç»‡",meeting_scheduled:"ä¼šè®®å·²å®‰æ’",approval_passed:"ç«‹é¡¹é€šè¿‡",approval_conditional:"æœ‰æ¡ä»¶é€šè¿‡",approval_failed:"ç«‹é¡¹æœªé€šè¿‡"})[i]||"æœªçŸ¥",B=i=>({material_reviewing:35,meeting_preparing:60,meeting_scheduled:80,approval_passed:100,approval_conditional:95,approval_failed:100})[i]||0,E=i=>i==="approval_failed"?"exception":i==="approval_passed"?"success":"active",Q=(i,e=null)=>i==="material_reviewing"&&(e!=null&&e.materialRejected)?"ææ–™éœ€è¦é‡æ–°æäº¤":{material_reviewing:"ææ–™å®¡æ ¸ä¸­",meeting_preparing:"ä¼šè®®å¾…ç»„ç»‡",meeting_scheduled:"ç­‰å¾…å‚åŠ ä¼šè®®",approval_passed:"ç«‹é¡¹é€šè¿‡",approval_conditional:"å¾…æäº¤æ•´æ”¹ææ–™",approval_failed:"ç«‹é¡¹æœªé€šè¿‡"}[i]||"æœªçŸ¥é˜¶æ®µ",W=()=>{I.push("/th_qd/approval/applicant/submit")},G=()=>{},K=()=>{},X=i=>{P.info(`é‡æ–°æäº¤ç”³è¯·ï¼š${i.projectName}`);let e="";i.reviewComments&&i.reviewComments.length>0&&(e=i.reviewComments.map(p=>`ã€${p.reviewer} - ${p.time}ã€‘ï¼š${p.content}`).join(`
`)),I.push({path:"/approval/applicant/submit",query:{resubmit:"true",projectId:i.id,projectName:encodeURIComponent(i.projectName),projectCode:i.projectCode,expectedTime:i.expectedTime,description:encodeURIComponent(i.description),reviewComments:encodeURIComponent(e)}})},Z=i=>{n.value=i,T.value=!0},H=()=>{T.value=!1,n.value=null},L=i=>{var e;I.push({path:"/approval/applicant/submit",query:{resubmit:"true",projectId:i.id,projectName:encodeURIComponent(i.projectName),projectCode:i.projectCode,expectedTime:i.expectedTime,description:encodeURIComponent(i.description),rejectionReason:encodeURIComponent(((e=i.rejectionInfo)==null?void 0:e.rejectionReason)||"")}})},Y=i=>{const e=i.rejectionInfo;if(!e){P.warning("æš‚æ— é©³å›ä¿¡æ¯");return}const p=`
    <div style="line-height: 1.6;">
      <div style="margin-bottom: 16px;">
        <strong>é©³å›æ—¶é—´ï¼š</strong>${e.time}
      </div>
      <div style="margin-bottom: 16px;">
        <strong>å®¡æ ¸äººå‘˜ï¼š</strong>${e.reviewer}
      </div>
      <div style="margin-bottom: 16px;">
        <strong>å®¡æ ¸æ„è§ï¼š</strong>
        <div style="margin-top: 8px; padding: 12px; background: #f5f5f5; border-radius: 6px;">
          ${e.comments}
        </div>
      </div>
      <div style="margin-bottom: 16px;">
        <strong>å…·ä½“è¦æ±‚ï¼š</strong>
        <div style="margin-top: 8px; padding: 12px; background: #fff2f0; border: 1px solid #ffccc7; border-radius: 6px; white-space: pre-line;">
          ${e.rejectionReason}
        </div>
      </div>
      <div style="margin-top: 16px; padding: 12px; background: #e6f7ff; border-radius: 6px;">
        <div style="color: #1890ff; font-weight: 500;">ğŸ’¡ æ¸©é¦¨æç¤º</div>
        <div style="margin-top: 4px; color: #666;">è¯·æ ¹æ®ä¸Šè¿°è¦æ±‚ä¿®æ”¹å’Œè¡¥å……ææ–™åé‡æ–°æäº¤ï¼Œå¦‚æœ‰ç–‘é—®å¯è”ç³»å®¡æ ¸äººå‘˜ã€‚</div>
      </div>
    </div>
  `;je.info({title:"ææ–™å®¡æ ¸é©³å›è¯¦æƒ…",width:600,content:p,okText:"æˆ‘çŸ¥é“äº†"})},ee=i=>{P.info(`æäº¤æ•´æ”¹ææ–™ï¼š${i.projectName}`);let e="";i.conclusion&&i.conclusion.requirements&&(e=i.conclusion.requirements),I.push({path:"/approval/applicant/submit",query:{improvement:"true",projectId:i.id,projectName:encodeURIComponent(i.projectName),projectCode:i.projectCode,expectedTime:i.expectedTime,description:encodeURIComponent(i.description),improvementRequirements:encodeURIComponent(e)}})},te=()=>{R.value=!R.value},j=i=>{g.value.keyword="",g.value.status=i};return re(()=>{}),(i,e)=>{const p=m("a-button"),w=m("a-step"),b=m("a-tag"),S=m("a-steps"),z=m("a-card"),O=m("a-badge"),r=m("a-select-option"),ae=m("a-select"),se=m("a-input-search"),ie=m("a-progress"),le=m("a-space"),ne=m("a-table"),d=m("a-descriptions-item"),$=m("a-descriptions"),oe=m("a-modal");return v(),h("div",we,[s("div",xe,[e[11]||(e[11]=s("div",{class:"header-content"},[s("h1",{class:"page-title"},"ç«‹é¡¹ç”³è¯·ç®¡ç†"),s("p",{class:"page-description"},"æŸ¥çœ‹å’Œç®¡ç†æ‚¨æäº¤çš„é¡¹ç›®ç«‹é¡¹ç”³è¯·")],-1)),s("div",he,[t(p,{type:"primary",onClick:W},{default:a(()=>[t(f(me)),e[10]||(e[10]=l(" æäº¤æ–°ç”³è¯· ",-1))]),_:1,__:[10]})])]),s("div",Ie,[s("div",Re,[s("div",{class:"stat-card pending",onClick:e[0]||(e[0]=u=>j("material_reviewing"))},[s("div",Te,[t(f(_e))]),s("div",ze,[s("div",$e,o(k.value.materialReviewing),1),e[12]||(e[12]=s("div",{class:"stat-label"},"ææ–™å®¡æ ¸ä¸­",-1))])]),s("div",{class:"stat-card material-rejected",onClick:e[1]||(e[1]=u=>j("material_rejected"))},[s("div",Ne,[t(f(F))]),s("div",Se,[s("div",Oe,o(k.value.materialRejected),1),e[13]||(e[13]=s("div",{class:"stat-label"},"ææ–™å®¡æ ¸æœªé€šè¿‡",-1))])]),s("div",{class:"stat-card reviewing",onClick:e[2]||(e[2]=u=>j("meeting_preparing"))},[s("div",Pe,[t(f(D))]),s("div",qe,[s("div",Ue,o(k.value.meetingPreparing),1),e[14]||(e[14]=s("div",{class:"stat-label"},"ä¼šè®®å¾…ç»„ç»‡",-1))])]),s("div",{class:"stat-card scheduled",onClick:e[3]||(e[3]=u=>j("meeting_scheduled"))},[s("div",Me,[t(f(fe))]),s("div",Ve,[s("div",Fe,o(k.value.meetingScheduled),1),e[15]||(e[15]=s("div",{class:"stat-label"},"ä¼šè®®å·²å®‰æ’",-1))])]),s("div",{class:"stat-card completed",onClick:e[4]||(e[4]=u=>j("approval_passed"))},[s("div",De,[t(f(ge))]),s("div",Je,[s("div",Ae,o(k.value.approvalPassed),1),e[16]||(e[16]=s("div",{class:"stat-label"},"ç«‹é¡¹é€šè¿‡",-1))])]),s("div",{class:"stat-card conditional",onClick:e[5]||(e[5]=u=>j("approval_conditional"))},[s("div",Be,[t(f(be))]),s("div",Ee,[s("div",Qe,o(k.value.approvalConditional),1),e[17]||(e[17]=s("div",{class:"stat-label"},"æœ‰æ¡ä»¶é€šè¿‡",-1))])]),s("div",{class:"stat-card rejected",onClick:e[6]||(e[6]=u=>j("approval_failed"))},[s("div",We,[t(f(ye))]),s("div",Ge,[s("div",Ke,o(k.value.approvalFailed),1),e[18]||(e[18]=s("div",{class:"stat-label"},"ç«‹é¡¹æœªé€šè¿‡",-1))])])])]),t(z,{class:"flow-description",title:"ç«‹é¡¹æµç¨‹è¯´æ˜",bordered:!1},{extra:a(()=>[t(p,{type:"link",size:"small",onClick:te},{default:a(()=>[l(o(R.value?"æ”¶èµ·":"å±•å¼€"),1)]),_:1})]),default:a(()=>[pe(s("div",Xe,[t(S,{current:3,size:"small",direction:"horizontal",status:"finish"},{default:a(()=>[t(w,{title:"æäº¤ç”³è¯·",description:"å‡†å¤‡ææ–™å¹¶æäº¤ç«‹é¡¹ç”³è¯·",status:"finish"}),t(w,{title:"ææ–™å®¡æ ¸",status:"finish"},{description:a(()=>[s("div",Ze,[e[20]||(e[20]=l(" ç­‰å¾…ç®¡ç†å‘˜å®¡æ ¸ç«‹é¡¹ææ–™ ",-1)),s("div",He,[t(b,{color:"orange",size:"small"},{default:a(()=>e[19]||(e[19]=[l("ææ–™å®¡æ ¸ä¸­",-1)])),_:1,__:[19]})])])]),_:1}),t(w,{title:"ç»„ç»‡ä¼šè®®",status:"finish"},{description:a(()=>[s("div",Le,[e[23]||(e[23]=l(" ç­‰å¾…ç®¡ç†å‘˜ç»„ç»‡ç«‹é¡¹ä¼šè®® ",-1)),s("div",Ye,[t(b,{color:"blue",size:"small"},{default:a(()=>e[21]||(e[21]=[l("ä¼šè®®å¾…ç»„ç»‡",-1)])),_:1,__:[21]}),t(b,{color:"cyan",size:"small"},{default:a(()=>e[22]||(e[22]=[l("ä¼šè®®å·²å®‰æ’",-1)])),_:1,__:[22]})])])]),_:1}),t(w,{title:"ç«‹é¡¹ç»“è®º",status:"finish"},{description:a(()=>[s("div",et,[e[27]||(e[27]=l(" æ ¹æ®ä¼šè®®ç»“æœè·å¾—æœ€ç»ˆç»“è®º ",-1)),s("div",tt,[t(b,{color:"green",size:"small"},{default:a(()=>e[24]||(e[24]=[l("ç«‹é¡¹é€šè¿‡",-1)])),_:1,__:[24]}),t(b,{color:"orange",size:"small"},{default:a(()=>e[25]||(e[25]=[l("æœ‰æ¡ä»¶é€šè¿‡",-1)])),_:1,__:[25]}),t(b,{color:"red",size:"small"},{default:a(()=>e[26]||(e[26]=[l("ç«‹é¡¹æœªé€šè¿‡",-1)])),_:1,__:[26]})])])]),_:1})]),_:1})],512),[[ue,R.value]])]),_:1}),t(z,{bordered:!1},{title:a(()=>[s("div",at,[e[28]||(e[28]=s("span",null,"æˆ‘çš„ç«‹é¡¹ç”³è¯·",-1)),t(O,{count:k.value.total,"number-style":{backgroundColor:"#1890ff"}},null,8,["count"])])]),extra:a(()=>[s("div",st,[t(ae,{value:g.value.status,"onUpdate:value":e[7]||(e[7]=u=>g.value.status=u),placeholder:"ç­›é€‰çŠ¶æ€",style:{width:"150px"},onChange:G},{default:a(()=>[t(r,{value:""},{default:a(()=>e[29]||(e[29]=[l("å…¨éƒ¨çŠ¶æ€",-1)])),_:1,__:[29]}),t(r,{value:"material_reviewing"},{default:a(()=>e[30]||(e[30]=[l("ææ–™å®¡æ ¸ä¸­",-1)])),_:1,__:[30]}),t(r,{value:"meeting_preparing"},{default:a(()=>e[31]||(e[31]=[l("ä¼šè®®å¾…ç»„ç»‡",-1)])),_:1,__:[31]}),t(r,{value:"meeting_scheduled"},{default:a(()=>e[32]||(e[32]=[l("ä¼šè®®å·²å®‰æ’",-1)])),_:1,__:[32]}),t(r,{value:"approval_passed"},{default:a(()=>e[33]||(e[33]=[l("ç«‹é¡¹é€šè¿‡",-1)])),_:1,__:[33]}),t(r,{value:"approval_conditional"},{default:a(()=>e[34]||(e[34]=[l("æœ‰æ¡ä»¶é€šè¿‡",-1)])),_:1,__:[34]}),t(r,{value:"approval_failed"},{default:a(()=>e[35]||(e[35]=[l("ç«‹é¡¹æœªé€šè¿‡",-1)])),_:1,__:[35]})]),_:1},8,["value"]),t(se,{value:g.value.keyword,"onUpdate:value":e[8]||(e[8]=u=>g.value.keyword=u),placeholder:"æœç´¢é¡¹ç›®åç§°",style:{width:"200px"},onSearch:K},null,8,["value"])])]),default:a(()=>[t(ne,{columns:J,"data-source":A.value,pagination:q.value,"row-key":"id",size:"middle"},{bodyCell:a(({column:u,record:c})=>[u.key==="status"?(v(),y(b,{key:0,color:U(c.status)},{default:a(()=>[l(o(M(c.status)),1)]),_:2},1032,["color"])):u.key==="progress"?(v(),h("div",it,[t(ie,{percent:B(c.status),size:"small",status:E(c.status)},null,8,["percent","status"]),s("div",lt,o(Q(c.status,c)),1)])):u.key==="actions"?(v(),y(le,{key:2},{default:a(()=>[c.status==="material_rejected"?(v(),y(p,{key:0,type:"primary",size:"small",onClick:N=>L(c)},{default:a(()=>e[36]||(e[36]=[l(" é‡æ–°æäº¤ææ–™ ",-1)])),_:2,__:[36]},1032,["onClick"])):_("",!0),c.status==="approval_conditional"?(v(),y(p,{key:1,type:"primary",size:"small",onClick:N=>ee(c)},{default:a(()=>e[37]||(e[37]=[l(" æäº¤æ•´æ”¹ææ–™ ",-1)])),_:2,__:[37]},1032,["onClick"])):_("",!0),c.status==="approval_failed"?(v(),y(p,{key:2,type:"primary",size:"small",onClick:N=>X(c)},{default:a(()=>e[38]||(e[38]=[l(" é‡æ–°æäº¤ç”³è¯· ",-1)])),_:2,__:[38]},1032,["onClick"])):_("",!0),c.status==="material_rejected"?(v(),y(p,{key:3,size:"small",onClick:N=>Y(c)},{default:a(()=>e[39]||(e[39]=[l(" æŸ¥çœ‹é©³å›åŸå›  ",-1)])),_:2,__:[39]},1032,["onClick"])):_("",!0),["approval_passed","approval_conditional","approval_failed"].includes(c.status)?(v(),y(p,{key:4,size:"small",onClick:N=>Z(c)},{default:a(()=>e[40]||(e[40]=[l(" æŸ¥çœ‹è¯¦æƒ… ",-1)])),_:2,__:[40]},1032,["onClick"])):_("",!0)]),_:2},1024)):_("",!0)]),_:1},8,["data-source","pagination"])]),_:1}),t(oe,{open:T.value,"onUpdate:open":e[9]||(e[9]=u=>T.value=u),title:"ç«‹é¡¹ç”³è¯·è¯¦æƒ…",width:"800px",footer:null,onCancel:H},{default:a(()=>[n.value?(v(),h("div",nt,[s("div",ot,[s("h4",null,[t(f(Ce)),e[41]||(e[41]=l(" é¡¹ç›®åŸºæœ¬ä¿¡æ¯",-1))]),t($,{column:2,bordered:"",size:"small"},{default:a(()=>[t(d,{label:"å¹´åº¦"},{default:a(()=>[l(o(n.value.year),1)]),_:1}),t(d,{label:"é¡¹ç›®ç¼–å·"},{default:a(()=>[l(o(n.value.projectCode),1)]),_:1}),t(d,{label:"ç«‹é¡¹åç§°",span:2},{default:a(()=>[l(o(n.value.projectName),1)]),_:1}),t(d,{label:"ç”³è¯·äºº"},{default:a(()=>[l(o(n.value.applicant),1)]),_:1}),t(d,{label:"ç”³è¯·å•ä½"},{default:a(()=>[l(o(n.value.department),1)]),_:1}),t(d,{label:"é¡¹ç›®å‘¨æœŸ(æœˆ)"},{default:a(()=>[l(o(n.value.duration)+"ä¸ªæœˆ ",1)]),_:1}),t(d,{label:"é¢„ç®—(ä¸‡å…ƒ)"},{default:a(()=>[l(o(n.value.budget)+"ä¸‡å…ƒ ",1)]),_:1}),t(d,{label:"ç”³è¯·æ—¶é—´"},{default:a(()=>[l(o(n.value.submitTime),1)]),_:1}),t(d,{label:"å½“å‰çŠ¶æ€"},{default:a(()=>[t(b,{color:U(n.value.status)},{default:a(()=>[l(o(M(n.value.status)),1)]),_:1},8,["color"])]),_:1}),t(d,{label:"é¡¹ç›®æè¿°",span:2},{default:a(()=>[l(o(n.value.description),1)]),_:1})]),_:1})]),n.value.meetingInfo?(v(),h("div",dt,[s("h4",null,[t(f(D)),e[42]||(e[42]=l(" ä¼šè®®ä¿¡æ¯",-1))]),t($,{column:2,bordered:"",size:"small"},{default:a(()=>[t(d,{label:"ä¼šè®®æ—¶é—´"},{default:a(()=>[l(o(n.value.meetingInfo.time),1)]),_:1}),t(d,{label:"ä¼šè®®åœ°ç‚¹"},{default:a(()=>[l(o(n.value.meetingInfo.location),1)]),_:1}),t(d,{label:"ä¼šè®®å½¢å¼",span:2},{default:a(()=>[l(o(n.value.meetingInfo.type==="offline"?"ç°åœºä¼šè®®":n.value.meetingInfo.type==="online"?"çº¿ä¸Šä¼šè®®":"æ··åˆä¼šè®®"),1)]),_:1}),n.value.meetingInfo.description?(v(),y(d,{key:0,label:"ä¼šè®®è¯´æ˜",span:2},{default:a(()=>[l(o(n.value.meetingInfo.description),1)]),_:1})):_("",!0)]),_:1})])):_("",!0),n.value.conclusion?(v(),h("div",rt,[s("h4",null,[t(f(ke)),e[43]||(e[43]=l(" ç«‹é¡¹ç»“è®º",-1))]),t($,{column:2,bordered:"",size:"small"},{default:a(()=>[t(d,{label:"ç«‹é¡¹ç»“æœ"},{default:a(()=>[t(b,{color:n.value.conclusion.result==="passed"?"green":n.value.conclusion.result==="failed"?"red":"orange"},{default:a(()=>[l(o(n.value.conclusion.result==="passed"?"ç«‹é¡¹é€šè¿‡":n.value.conclusion.result==="failed"?"ç«‹é¡¹æœªé€šè¿‡":"æœ‰æ¡ä»¶é€šè¿‡"),1)]),_:1},8,["color"])]),_:1}),t(d,{label:"ç»“è®ºæ—¶é—´"},{default:a(()=>[l(o(n.value.conclusion.time),1)]),_:1}),n.value.conclusion.score?(v(),y(d,{key:0,label:"è¯„åˆ†"},{default:a(()=>[s("span",{style:ce({color:n.value.conclusion.score>=90?"#52c41a":n.value.conclusion.score>=80?"#fa8c16":"#ff4d4f"})},o(n.value.conclusion.score)+"åˆ† ",5)]),_:1})):_("",!0),t(d,{label:"ç»“è®ºè¯´æ˜",span:2},{default:a(()=>[l(o(n.value.conclusion.description),1)]),_:1}),n.value.conclusion.requirements?(v(),y(d,{key:1,label:"æ•´æ”¹è¦æ±‚",span:2},{default:a(()=>[s("div",pt,o(n.value.conclusion.requirements),1)]),_:1})):_("",!0)]),_:1})])):_("",!0),n.value.rejectionInfo?(v(),h("div",ut,[s("h4",null,[t(f(F)),e[44]||(e[44]=l(" é©³å›ä¿¡æ¯",-1))]),t($,{column:2,bordered:"",size:"small"},{default:a(()=>[t(d,{label:"é©³å›æ—¶é—´"},{default:a(()=>[l(o(n.value.rejectionInfo.time),1)]),_:1}),t(d,{label:"å®¡æ ¸äººå‘˜"},{default:a(()=>[l(o(n.value.rejectionInfo.reviewer),1)]),_:1}),t(d,{label:"å®¡æ ¸æ„è§",span:2},{default:a(()=>[l(o(n.value.rejectionInfo.comments),1)]),_:1}),t(d,{label:"é©³å›åŸå› ",span:2},{default:a(()=>[s("div",ct,o(n.value.rejectionInfo.rejectionReason),1)]),_:1})]),_:1})])):_("",!0)])):_("",!0)]),_:1},8,["open"])])}}},bt=ve(vt,[["__scopeId","data-v-e004f228"]]);export{bt as default};
