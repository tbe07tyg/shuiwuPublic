import{S as r,U as v,V as O,W as s,Z as _,k as e,X as t,u as y,G as n,B as W,a0 as T,f as U,r as qe,w as be,_ as F,F as j,Y as H,a4 as ke,c as xe,o as Ce,m as we,A as $e,$ as De}from"./vendor-e4b530e5.js";import{_ as K}from"./index-053c0381.js";import{w as te,S as ae,x as Ee,y as Se,U as Oe,r as Re,z as se,t as Ie,m as A,F as Ue,G as ze,H as Me,I as Pe,J as ie,K as Ae,N as Fe,O as Be}from"./antd-19bac614.js";import{P as Le}from"./PageContainer-e6c26fac.js";/* empty css                                                                      */const Te={class:"card-header"},Ve={class:"card-title"},je={class:"card-content"},Ne={class:"card-desc"},Qe={class:"card-meta"},Ge={class:"card-info"},We={class:"info-item"},He={class:"info-item"},Ke={key:0,class:"card-effect"},Je={class:"effect-title"},Xe={class:"effect-content"},Ye={class:"card-footer"},Ze={class:"footer-main"},he={class:"status-actions"},et={__name:"RequirementCard",props:{requirement:{type:Object,required:!0}},emits:["edit","delete","view","start-research","status-change","priority-change"],setup(i,{emit:g}){const z=i,$=g;function M(u){return{高:"red",中:"orange",低:"blue"}[u]||"default"}function R(u){$("status-change",z.requirement.id,u)}function m(u){$("priority-change",z.requirement.id,u)}return(u,a)=>{const C=r("a-menu-item"),P=r("a-menu-divider"),D=r("a-menu"),B=r("a-button"),f=r("a-dropdown"),o=r("a-tag"),p=r("a-select-option"),k=r("a-select");return v(),O("div",{class:"requirement-card",onClick:a[7]||(a[7]=E=>u.$emit("view",i.requirement))},[s("div",Te,[s("div",Ve,_(i.requirement.title),1),e(f,{trigger:"click",onClick:a[4]||(a[4]=W(()=>{},["stop"]))},{overlay:t(()=>[e(D,null,{default:t(()=>[e(C,{onClick:a[0]||(a[0]=E=>u.$emit("edit",i.requirement))},{default:t(()=>[e(y(te)),a[8]||(a[8]=n(" 编辑 ",-1))]),_:1,__:[8]}),e(C,{onClick:a[1]||(a[1]=E=>u.$emit("start-research",i.requirement))},{default:t(()=>[e(y(ae)),a[9]||(a[9]=n(" 开始调研 ",-1))]),_:1,__:[9]}),e(P),e(C,{onClick:a[2]||(a[2]=E=>u.$emit("delete",i.requirement)),style:{color:"#ff4d4f"}},{default:t(()=>[e(y(Ee)),a[10]||(a[10]=n(" 删除 ",-1))]),_:1,__:[10]})]),_:1})]),default:t(()=>[e(B,{type:"text",size:"small",onClick:a[3]||(a[3]=W(()=>{},["stop"]))},{default:t(()=>[e(y(Se))]),_:1})]),_:1})]),s("div",je,[s("p",Ne,_(i.requirement.description),1),s("div",Qe,[e(o,{color:M(i.requirement.priority),size:"small"},{default:t(()=>[n(_(i.requirement.priority)+"优先级 ",1)]),_:1},8,["color"]),e(o,{size:"small"},{default:t(()=>[n(_(i.requirement.category),1)]),_:1})]),s("div",Ge,[s("div",We,[e(y(Oe)),s("span",null,_(i.requirement.proposer),1)]),s("div",He,[e(y(Re)),s("span",null,_(i.requirement.createdAt),1)])]),i.requirement.expectedEffect?(v(),O("div",Ke,[s("div",Je,[e(y(se)),a[11]||(a[11]=s("span",null,"预期效果：",-1))]),s("div",Xe,_(i.requirement.expectedEffect),1)])):T("",!0)]),s("div",Ye,[s("div",Ze,[s("div",he,[e(k,{value:i.requirement.status,size:"small",style:{width:"100px"},onChange:R,onClick:a[5]||(a[5]=W(()=>{},["stop"]))},{default:t(()=>[e(p,{value:"待分析"},{default:t(()=>a[12]||(a[12]=[n("待分析",-1)])),_:1,__:[12]}),e(p,{value:"进行中"},{default:t(()=>a[13]||(a[13]=[n("进行中",-1)])),_:1,__:[13]}),e(p,{value:"已完成"},{default:t(()=>a[14]||(a[14]=[n("已完成",-1)])),_:1,__:[14]}),e(p,{value:"已暂停"},{default:t(()=>a[15]||(a[15]=[n("已暂停",-1)])),_:1,__:[15]})]),_:1},8,["value"]),e(k,{value:i.requirement.priority,size:"small",style:{width:"80px"},onChange:m,onClick:a[6]||(a[6]=W(()=>{},["stop"]))},{default:t(()=>[e(p,{value:"高"},{default:t(()=>a[16]||(a[16]=[n("高",-1)])),_:1,__:[16]}),e(p,{value:"中"},{default:t(()=>a[17]||(a[17]=[n("中",-1)])),_:1,__:[17]}),e(p,{value:"低"},{default:t(()=>a[18]||(a[18]=[n("低",-1)])),_:1,__:[18]})]),_:1},8,["value"])])])])])}}},tt=K(et,[["__scopeId","data-v-935a3494"]]);const lt={__name:"RequirementModal",props:{visible:{type:Boolean,default:!1},requirement:{type:Object,default:null}},emits:["update:visible","save"],setup(i,{emit:g}){const z=i,$=g,M=U(),R=U(!1),m=qe({title:"",description:"",category:"",priority:"",proposer:"当前用户",proposerDept:"",expectedEffect:"",attachments:[]}),u={title:[{required:!0,message:"请输入需求标题",trigger:"blur"},{min:5,max:100,message:"标题长度在5-100个字符",trigger:"blur"}],description:[{required:!0,message:"请输入需求描述",trigger:"blur"},{min:20,max:500,message:"描述长度在20-500个字符",trigger:"blur"}],category:[{required:!0,message:"请选择需求分类",trigger:"change"}],priority:[{required:!0,message:"请选择优先级",trigger:"change"}],proposerDept:[{required:!0,message:"请选择提出部门",trigger:"change"}]};be(()=>z.requirement,f=>{f?Object.assign(m,{title:f.title||"",description:f.description||"",category:f.category||"",priority:f.priority||"",proposer:f.proposer||"当前用户",proposerDept:f.proposerDept||"",expectedEffect:f.expectedEffect||f.businessValue||"",attachments:f.attachments||[]}):a()},{immediate:!0});function a(){var f;Object.assign(m,{title:"",description:"",category:"",priority:"",proposer:"当前用户",proposerDept:"",expectedEffect:"",attachments:[]}),(f=M.value)==null||f.resetFields()}async function C(){try{await M.value.validate(),R.value=!0;const f={...m};await new Promise(o=>setTimeout(o,1e3)),$("save",f),$("update:visible",!1)}catch(f){console.error("表单验证失败:",f)}finally{R.value=!1}}function P(){$("update:visible",!1)}function D(f){return["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","image/jpeg","image/png","image/gif"].includes(f.type)?(f.size/1024/1024<10||A.error("文件大小不能超过10MB!"),!1):(A.error("只能上传PDF、Word、Excel、图片格式的文件!"),!1)}function B(f){const o=m.attachments.indexOf(f),p=m.attachments.slice();p.splice(o,1),m.attachments=p}return(f,o)=>{const p=r("a-input"),k=r("a-form-item"),E=r("a-col"),L=r("a-row"),w=r("a-select-option"),S=r("a-select"),N=r("a-textarea"),V=r("a-button"),Q=r("a-upload"),J=r("a-form"),X=r("a-modal");return v(),F(X,{open:i.visible,title:i.requirement?"编辑需求":"新增需求",width:"600px",onOk:C,onCancel:P,"confirm-loading":R.value},{default:t(()=>[e(J,{ref_key:"formRef",ref:M,model:m,rules:u,layout:"vertical","label-col":{span:24},"wrapper-col":{span:24}},{default:t(()=>[e(L,{gutter:16},{default:t(()=>[e(E,{span:24},{default:t(()=>[e(k,{label:"需求标题",name:"title",required:""},{default:t(()=>[e(p,{value:m.title,"onUpdate:value":o[0]||(o[0]=x=>m.title=x),placeholder:"请输入需求标题","max-length":100,"show-count":""},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(L,{gutter:16},{default:t(()=>[e(E,{span:8},{default:t(()=>[e(k,{label:"需求分类",name:"category",required:""},{default:t(()=>[e(S,{value:m.category,"onUpdate:value":o[1]||(o[1]=x=>m.category=x),placeholder:"请选择分类"},{default:t(()=>[e(w,{value:"技术创新"},{default:t(()=>o[7]||(o[7]=[n("技术创新",-1)])),_:1,__:[7]}),e(w,{value:"工艺改进"},{default:t(()=>o[8]||(o[8]=[n("工艺改进",-1)])),_:1,__:[8]}),e(w,{value:"设备更新"},{default:t(()=>o[9]||(o[9]=[n("设备更新",-1)])),_:1,__:[9]}),e(w,{value:"质量提升"},{default:t(()=>o[10]||(o[10]=[n("质量提升",-1)])),_:1,__:[10]}),e(w,{value:"成本控制"},{default:t(()=>o[11]||(o[11]=[n("成本控制",-1)])),_:1,__:[11]})]),_:1},8,["value"])]),_:1})]),_:1}),e(E,{span:8},{default:t(()=>[e(k,{label:"优先级",name:"priority",required:""},{default:t(()=>[e(S,{value:m.priority,"onUpdate:value":o[2]||(o[2]=x=>m.priority=x),placeholder:"请选择优先级"},{default:t(()=>[e(w,{value:"高"},{default:t(()=>o[12]||(o[12]=[n("高优先级",-1)])),_:1,__:[12]}),e(w,{value:"中"},{default:t(()=>o[13]||(o[13]=[n("中优先级",-1)])),_:1,__:[13]}),e(w,{value:"低"},{default:t(()=>o[14]||(o[14]=[n("低优先级",-1)])),_:1,__:[14]})]),_:1},8,["value"])]),_:1})]),_:1}),e(E,{span:8},{default:t(()=>[e(k,{label:"提出部门",name:"proposerDept",required:""},{default:t(()=>[e(S,{value:m.proposerDept,"onUpdate:value":o[3]||(o[3]=x=>m.proposerDept=x),placeholder:"请选择部门"},{default:t(()=>[e(w,{value:"技术部"},{default:t(()=>o[15]||(o[15]=[n("技术部",-1)])),_:1,__:[15]}),e(w,{value:"工艺部"},{default:t(()=>o[16]||(o[16]=[n("工艺部",-1)])),_:1,__:[16]}),e(w,{value:"运维部"},{default:t(()=>o[17]||(o[17]=[n("运维部",-1)])),_:1,__:[17]}),e(w,{value:"质量部"},{default:t(()=>o[18]||(o[18]=[n("质量部",-1)])),_:1,__:[18]}),e(w,{value:"财务部"},{default:t(()=>o[19]||(o[19]=[n("财务部",-1)])),_:1,__:[19]})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),e(L,{gutter:16},{default:t(()=>[e(E,{span:24},{default:t(()=>[e(k,{label:"需求描述",name:"description",required:""},{default:t(()=>[e(N,{value:m.description,"onUpdate:value":o[4]||(o[4]=x=>m.description=x),placeholder:"请详细描述需求内容、背景和预期目标",rows:4,"max-length":500,"show-count":""},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(L,{gutter:16},{default:t(()=>[e(E,{span:24},{default:t(()=>[e(k,{label:"预期达到效果",name:"expectedEffect"},{default:t(()=>[e(N,{value:m.expectedEffect,"onUpdate:value":o[5]||(o[5]=x=>m.expectedEffect=x),placeholder:"请描述预期达到的效果和收益",rows:3,"max-length":300,"show-count":""},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(L,{gutter:16},{default:t(()=>[e(E,{span:24},{default:t(()=>[e(k,{label:"相关附件"},{default:t(()=>[e(Q,{"file-list":m.attachments,"onUpdate:fileList":o[6]||(o[6]=x=>m.attachments=x),"before-upload":D,remove:B,multiple:""},{default:t(()=>[e(V,null,{default:t(()=>[e(y(Ie)),o[20]||(o[20]=n(" 选择文件 ",-1))]),_:1,__:[20]}),o[21]||(o[21]=s("span",{style:{"margin-left":"8px",color:"#999","font-size":"12px"}}," 支持PDF、Word、Excel、图片格式，单文件最大10MB ",-1))]),_:1,__:[21]},8,["file-list"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["open","title","confirm-loading"])}}},nt=K(lt,[["__scopeId","data-v-707c8978"]]);const ot={class:"requirement-detail"},at={class:"detail-section"},st={class:"section-title"},it={class:"detail-section"},rt={class:"section-title"},ut={class:"description-content"},dt={key:0,class:"detail-section"},mt={class:"section-title"},ft={class:"expected-effect"},pt={key:1,class:"detail-section"},_t={class:"section-title"},ct={class:"attachments-list"},vt={class:"file-name"},yt={key:2,class:"detail-section"},gt={class:"section-title"},qt={class:"timeline-content"},bt={class:"timeline-header"},kt={class:"timeline-user"},xt={class:"timeline-time"},Ct={class:"timeline-action"},wt={key:0,class:"timeline-comment"},$t={class:"detail-actions"},Dt={__name:"RequirementDetail",props:{requirement:{type:Object,required:!0}},emits:["edit","start-research"],setup(i,{emit:g}){function z(m){return{高:"red",中:"orange",低:"blue"}[m]||"default"}function $(m){return{待分析:"default",进行中:"processing",已完成:"success",已暂停:"warning"}[m]||"default"}function M(m){return{create:"blue",edit:"orange",status:"green",comment:"gray"}[m]||"blue"}function R(){A.success("需求详情导出功能开发中...")}return(m,u)=>{const a=r("a-descriptions-item"),C=r("a-tag"),P=r("a-descriptions"),D=r("a-button"),B=r("a-timeline-item"),f=r("a-timeline"),o=r("a-space");return v(),O("div",ot,[s("div",at,[s("h3",st,[e(y(Ue)),u[2]||(u[2]=n(" 基本信息 ",-1))]),e(P,{column:2,bordered:"",size:"small"},{default:t(()=>[e(a,{label:"需求标题",span:2},{default:t(()=>[n(_(i.requirement.title),1)]),_:1}),e(a,{label:"需求分类"},{default:t(()=>[e(C,null,{default:t(()=>[n(_(i.requirement.category),1)]),_:1})]),_:1}),e(a,{label:"优先级"},{default:t(()=>[e(C,{color:z(i.requirement.priority)},{default:t(()=>[n(_(i.requirement.priority)+"优先级 ",1)]),_:1},8,["color"])]),_:1}),e(a,{label:"当前状态"},{default:t(()=>[e(C,{color:$(i.requirement.status)},{default:t(()=>[n(_(i.requirement.status),1)]),_:1},8,["color"])]),_:1}),e(a,{label:"提出人"},{default:t(()=>[n(_(i.requirement.proposer),1)]),_:1}),e(a,{label:"提出部门"},{default:t(()=>[n(_(i.requirement.proposerDept),1)]),_:1}),e(a,{label:"提出时间",span:2},{default:t(()=>[n(_(i.requirement.createdAt),1)]),_:1})]),_:1})]),s("div",it,[s("h3",rt,[e(y(te)),u[3]||(u[3]=n(" 需求描述 ",-1))]),s("div",ut,_(i.requirement.description),1)]),i.requirement.expectedEffect?(v(),O("div",dt,[s("h3",mt,[e(y(se)),u[4]||(u[4]=n(" 预期达到效果 ",-1))]),s("div",ft,_(i.requirement.expectedEffect),1)])):T("",!0),i.requirement.attachments&&i.requirement.attachments.length?(v(),O("div",pt,[s("h3",_t,[e(y(ze)),u[5]||(u[5]=n(" 相关附件 ",-1))]),s("div",ct,[(v(!0),O(j,null,H(i.requirement.attachments,(p,k)=>(v(),O("div",{key:k,class:"attachment-item"},[e(y(Me)),s("span",vt,_(p.name),1),e(D,{type:"link",size:"small"},{default:t(()=>u[6]||(u[6]=[n("下载",-1)])),_:1,__:[6]})]))),128))])])):T("",!0),i.requirement.comments&&i.requirement.comments.length?(v(),O("div",yt,[s("h3",gt,[e(y(Pe)),u[7]||(u[7]=n(" 操作历史 ",-1))]),e(f,null,{default:t(()=>[(v(!0),O(j,null,H(i.requirement.comments,(p,k)=>(v(),F(B,{key:k,color:M(p.type)},{default:t(()=>[s("div",qt,[s("div",bt,[s("span",kt,_(p.user),1),s("span",xt,_(p.time),1)]),s("div",Ct,_(p.action),1),p.comment?(v(),O("div",wt,_(p.comment),1)):T("",!0)])]),_:2},1032,["color"]))),128))]),_:1})])):T("",!0),s("div",$t,[e(o,null,{default:t(()=>[e(D,{type:"primary",onClick:u[0]||(u[0]=p=>m.$emit("edit",i.requirement))},{default:t(()=>[e(y(te)),u[8]||(u[8]=n(" 编辑需求 ",-1))]),_:1,__:[8]}),e(D,{type:"primary",ghost:"",onClick:u[1]||(u[1]=p=>m.$emit("start-research",i.requirement))},{default:t(()=>[e(y(ae)),u[9]||(u[9]=n(" 开始调研 ",-1))]),_:1,__:[9]}),e(D,{onClick:R},{default:t(()=>[e(y(ie)),u[10]||(u[10]=n(" 导出详情 ",-1))]),_:1,__:[10]})]),_:1})])])}}},Et=K(Dt,[["__scopeId","data-v-721fef79"]]);const St={class:"filter-section"},Ot={class:"total-count-row"},Rt={class:"count-num"},It={class:"status-board"},Ut={class:"status-header"},zt={class:"requirement-cards"},Mt={key:1,class:"empty-state"},Pt={class:"table-section"},At={__name:"index",setup(i){ke();const g=U([]),z=U([]),$=U(!1),M=U(!1),R=U(null),m=U(null),u=U("board"),a=U(""),C=U(""),P=U(""),D=U(""),B=[{value:"待分析",label:"待分析",color:"#d9d9d9"},{value:"进行中",label:"进行中",color:"#1890ff"},{value:"已完成",label:"已完成",color:"#52c41a"},{value:"已暂停",label:"已暂停",color:"#faad14"}],f=xe(()=>B.filter(d=>E(d.value).length>0)),o=[{title:"需求标题",dataIndex:"title",key:"title",width:200,ellipsis:!0},{title:"需求分类",dataIndex:"category",key:"category",width:120},{title:"优先级",dataIndex:"priority",key:"priority",width:80},{title:"状态",dataIndex:"status",key:"status",width:100},{title:"提出人",dataIndex:"proposer",key:"proposer",width:100},{title:"提出部门",dataIndex:"proposerDept",key:"proposerDept",width:100},{title:"提出时间",dataIndex:"createdAt",key:"createdAt",width:120},{title:"操作",key:"actions",width:180,fixed:"right"}];function p(){g.value=[{id:"REQ001",title:"智能水质监测系统升级",description:"对现有水质监测系统进行智能化升级，增加AI预警功能和大数据分析能力",category:"技术创新",priority:"高",status:"待分析",proposer:"张三",proposerDept:"技术部",createdAt:"2024-01-15",expectedEffect:"提升水质监测精度30%，降低人工成本50%，实现24小时无人值守监测",attachments:[]},{id:"REQ002",title:"污水处理工艺优化研究",description:"研究新型污水处理工艺，提高处理效率，降低能耗",category:"工艺改进",priority:"中",status:"进行中",proposer:"李四",proposerDept:"工艺部",createdAt:"2024-01-20",expectedEffect:"处理效率提升20%，能耗降低15%，污水处理达标率99%以上",attachments:[]},{id:"REQ003",title:"管网漏损检测设备更新",description:"更新老旧的管网漏损检测设备，采用声学检测和压力监测技术",category:"设备更新",priority:"高",status:"已完成",proposer:"王五",proposerDept:"运维部",createdAt:"2024-01-10",expectedEffect:"漏损率降低25%，维护成本减少40%，管网运行稳定性大幅提升",attachments:[]}],z.value=[...g.value]}function k(d){return z.value.filter(l=>l.status===d).length}function E(d){return z.value.filter(l=>l.status===d)}function L(d){return{高:"red",中:"orange",低:"blue"}[d]||"default"}function w(d){return{待分析:"default",进行中:"processing",已完成:"success",已暂停:"warning"}[d]||"default"}function S(){let d=[...g.value];if(a.value&&(d=d.filter(l=>l.status===a.value)),C.value&&(d=d.filter(l=>l.priority===C.value)),P.value&&(d=d.filter(l=>l.category===P.value)),D.value){const l=D.value.toLowerCase();d=d.filter(q=>q.title.toLowerCase().includes(l)||q.description.toLowerCase().includes(l))}z.value=d}function N(d){if(R.value){const l=g.value.findIndex(q=>q.id===R.value.id);g.value[l]={...d},A.success("需求更新成功")}else{const l={...d,id:`REQ${String(g.value.length+1).padStart(3,"0")}`,createdAt:new Date().toISOString().split("T")[0],status:"待分析"};g.value.unshift(l),A.success("需求添加成功")}S(),$.value=!1,R.value=null}function V(d){R.value={...d},$.value=!0}function Q(d){const l=g.value.findIndex(q=>q.id===d.id);g.value.splice(l,1),S(),A.success("需求删除成功")}function J(d){m.value=d,M.value=!0}function X(d){const l={...d,id:`REQ${String(g.value.length+1).padStart(3,"0")}`,title:`${d.title} (副本)`,status:"待分析",createdAt:new Date().toISOString().split("T")[0]};g.value.unshift(l),S(),A.success("需求复制成功")}function x(d,l){const q=g.value.find(b=>b.id===d);q&&(q.status=l,S(),A.success(`需求状态已更新为：${l}`))}function re(d,l){const q=g.value.find(b=>b.id===d);q&&(q.priority=l,S(),A.success(`需求优先级已更新为：${l}`))}function le(d){x(d.id,"进行中"),A.success("已开始内部评估，请完善评估信息")}function ue(){A.success("需求导出功能开发中...")}function de(){a.value="",C.value="",P.value="",D.value="",S()}return Ce(()=>{p()}),(d,l)=>{const q=r("a-button"),b=r("a-select-option"),Y=r("a-select"),me=r("a-input-search"),ne=r("a-space"),Z=r("a-col"),oe=r("a-row"),fe=r("a-badge"),pe=r("a-empty"),h=r("a-tag"),ee=r("a-menu-item"),_e=r("a-menu-divider"),ce=r("a-menu"),ve=r("a-dropdown"),ye=r("a-table"),ge=r("a-drawer");return v(),O(j,null,[e(Le,{title:"需求池管理",description:"项目调研的起点，收集和管理各类研发需求"},{actions:t(()=>[e(q,{type:"primary",onClick:l[0]||(l[0]=c=>$.value=!0)},{default:t(()=>[e(y(Ae)),l[7]||(l[7]=n(" 新增需求 ",-1))]),_:1,__:[7]}),e(q,{onClick:ue},{default:t(()=>[e(y(ie)),l[8]||(l[8]=n(" 导出需求 ",-1))]),_:1,__:[8]})]),default:t(()=>[s("div",St,[e(oe,{gutter:16},{default:t(()=>[e(Z,{span:18},{default:t(()=>[e(ne,{size:"middle"},{default:t(()=>[e(Y,{value:a.value,"onUpdate:value":l[1]||(l[1]=c=>a.value=c),placeholder:"需求状态",style:{width:"120px"},onChange:S},{default:t(()=>[e(b,{value:""},{default:t(()=>l[9]||(l[9]=[n("全部状态",-1)])),_:1,__:[9]}),e(b,{value:"待分析"},{default:t(()=>l[10]||(l[10]=[n("待分析",-1)])),_:1,__:[10]}),e(b,{value:"进行中"},{default:t(()=>l[11]||(l[11]=[n("进行中",-1)])),_:1,__:[11]}),e(b,{value:"已完成"},{default:t(()=>l[12]||(l[12]=[n("已完成",-1)])),_:1,__:[12]}),e(b,{value:"已暂停"},{default:t(()=>l[13]||(l[13]=[n("已暂停",-1)])),_:1,__:[13]})]),_:1},8,["value"]),e(Y,{value:C.value,"onUpdate:value":l[2]||(l[2]=c=>C.value=c),placeholder:"优先级",style:{width:"100px"},onChange:S},{default:t(()=>[e(b,{value:""},{default:t(()=>l[14]||(l[14]=[n("全部",-1)])),_:1,__:[14]}),e(b,{value:"高"},{default:t(()=>l[15]||(l[15]=[n("高",-1)])),_:1,__:[15]}),e(b,{value:"中"},{default:t(()=>l[16]||(l[16]=[n("中",-1)])),_:1,__:[16]}),e(b,{value:"低"},{default:t(()=>l[17]||(l[17]=[n("低",-1)])),_:1,__:[17]})]),_:1},8,["value"]),e(Y,{value:P.value,"onUpdate:value":l[3]||(l[3]=c=>P.value=c),placeholder:"需求分类",style:{width:"120px"},onChange:S},{default:t(()=>[e(b,{value:""},{default:t(()=>l[18]||(l[18]=[n("全部分类",-1)])),_:1,__:[18]}),e(b,{value:"技术创新"},{default:t(()=>l[19]||(l[19]=[n("技术创新",-1)])),_:1,__:[19]}),e(b,{value:"工艺改进"},{default:t(()=>l[20]||(l[20]=[n("工艺改进",-1)])),_:1,__:[20]}),e(b,{value:"设备更新"},{default:t(()=>l[21]||(l[21]=[n("设备更新",-1)])),_:1,__:[21]}),e(b,{value:"质量提升"},{default:t(()=>l[22]||(l[22]=[n("质量提升",-1)])),_:1,__:[22]}),e(b,{value:"成本控制"},{default:t(()=>l[23]||(l[23]=[n("成本控制",-1)])),_:1,__:[23]})]),_:1},8,["value"]),e(me,{value:D.value,"onUpdate:value":l[4]||(l[4]=c=>D.value=c),placeholder:"搜索需求标题或描述",style:{width:"250px"},onSearch:S},null,8,["value"])]),_:1})]),_:1}),e(Z,{span:6},{default:t(()=>[s("div",Ot,[l[24]||(l[24]=s("span",null,"需求总数",-1)),s("span",Rt,_(g.value.length),1)])]),_:1})]),_:1})]),s("div",It,[f.value.length>0?(v(),F(oe,{key:0,gutter:16,class:"card-list"},{default:t(()=>[(v(!0),O(j,null,H(f.value,c=>(v(),F(Z,{key:c.value,span:6},{default:t(()=>[s("div",{class:De(["status-column",`status-${c.color}`])},[s("div",Ut,[s("h3",null,_(c.label),1),e(fe,{count:k(c.value),"number-style":{backgroundColor:c.color}},null,8,["count","number-style"])]),s("div",zt,[(v(!0),O(j,null,H(E(c.value),I=>(v(),F(tt,{key:I.id,requirement:I,onEdit:V,onDelete:Q,onStatusChange:x,onPriorityChange:re},null,8,["requirement"]))),128))])],2)]),_:2},1024))),128))]),_:1})):(v(),O("div",Mt,[e(pe,{description:"没有找到符合条件的需求",image:y(Fe).PRESENTED_IMAGE_SIMPLE},{default:t(()=>[e(q,{type:"primary",onClick:de},{default:t(()=>l[25]||(l[25]=[n("清除筛选条件",-1)])),_:1,__:[25]})]),_:1},8,["image"])]))]),we(s("div",Pt,[e(ye,{columns:o,"data-source":z.value,pagination:{pageSize:10},scroll:{x:1200},"row-key":"id"},{bodyCell:t(({column:c,record:I})=>[c.key==="priority"?(v(),F(h,{key:0,color:L(I.priority)},{default:t(()=>[n(_(I.priority),1)]),_:2},1032,["color"])):c.key==="status"?(v(),F(h,{key:1,color:w(I.status)},{default:t(()=>[n(_(I.status),1)]),_:2},1032,["color"])):c.key==="category"?(v(),F(h,{key:2},{default:t(()=>[n(_(I.category),1)]),_:2},1024)):c.key==="actions"?(v(),F(ne,{key:3},{default:t(()=>[e(q,{type:"link",size:"small",onClick:G=>V(I)},{default:t(()=>l[26]||(l[26]=[n(" 编辑 ",-1)])),_:2,__:[26]},1032,["onClick"]),e(q,{type:"link",size:"small",onClick:G=>le(I)},{default:t(()=>l[27]||(l[27]=[n(" 开始调研 ",-1)])),_:2,__:[27]},1032,["onClick"]),e(ve,null,{overlay:t(()=>[e(ce,null,{default:t(()=>[e(ee,{onClick:G=>J(I)},{default:t(()=>l[28]||(l[28]=[n("查看详情",-1)])),_:2,__:[28]},1032,["onClick"]),e(ee,{onClick:G=>X(I)},{default:t(()=>l[29]||(l[29]=[n("复制需求",-1)])),_:2,__:[29]},1032,["onClick"]),e(_e),e(ee,{onClick:G=>Q(I),style:{color:"#ff4d4f"}},{default:t(()=>l[30]||(l[30]=[n(" 删除需求 ",-1)])),_:2,__:[30]},1032,["onClick"])]),_:2},1024)]),default:t(()=>[e(q,{type:"link",size:"small"},{default:t(()=>[l[31]||(l[31]=n(" 更多 ",-1)),e(y(Be))]),_:1,__:[31]})]),_:2},1024)]),_:2},1024)):T("",!0)]),_:1},8,["data-source"])],512),[[$e,u.value==="table"]])]),_:1}),e(nt,{visible:$.value,"onUpdate:visible":l[5]||(l[5]=c=>$.value=c),requirement:R.value,onSave:N},null,8,["visible","requirement"]),e(ge,{open:M.value,"onUpdate:open":l[6]||(l[6]=c=>M.value=c),title:"需求详情",width:"600",placement:"right"},{default:t(()=>[m.value?(v(),F(Et,{key:0,requirement:m.value,onEdit:V,onStartResearch:le},null,8,["requirement"])):T("",!0)]),_:1},8,["open"])],64)}}},jt=K(At,[["__scopeId","data-v-8a670250"]]);export{jt as default};
