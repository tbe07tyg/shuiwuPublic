import{a4 as Et,f as x,c as de,o as Ht,S as b,U as v,V as S,W as l,k as t,u as m,G as o,X as s,Z as u,m as Lt,A as Yt,_ as C,F as le,a0 as _,Y as re,a6 as At,$ as ve}from"./vendor-e4b530e5.js";import{m as w,j as Jt,b as ge,F as Wt,E as ze,r as ce,v as we,f as pe,z as he,Q as Qt,_ as Gt,t as Me,H as q,$ as se,J as ae,V as Kt,W as Te,o as Nt}from"./antd-19bac614.js";import{_ as Xt}from"./index-053c0381.js";const Zt={class:"acceptance-management-center"},el={class:"page-header"},tl={class:"header-content"},ll={class:"page-title"},sl={class:"title-icon"},al={class:"header-actions"},nl={class:"stats-overview"},il={class:"stats-flex-container"},ol={class:"stat-icon"},ul={class:"stat-content"},dl={class:"stat-number"},rl={class:"stat-icon"},vl={class:"stat-content"},cl={class:"stat-number"},pl={class:"stat-icon"},ml={class:"stat-content"},fl={class:"stat-number"},_l={class:"stat-icon"},gl={class:"stat-content"},wl={class:"stat-number"},yl={class:"stat-icon"},bl={class:"stat-content"},Sl={class:"stat-number"},kl={class:"stat-icon"},xl={class:"stat-content"},Cl={class:"stat-number"},Rl={class:"stat-icon"},jl={class:"stat-content"},zl={class:"stat-number"},hl={class:"content-card flow-description"},Ml={class:"card-header"},Tl={class:"flow-content"},Fl={class:"step-description"},Il={class:"step-status-tags"},$l={class:"step-description"},Ol={class:"step-status-tags"},Ul={class:"step-description"},ql={class:"step-status-tags"},Dl={class:"content-card"},Pl={class:"card-header"},Bl={class:"header-filters"},Vl={class:"project-review-list"},El={key:0,class:"project-info"},Hl={class:"project-name"},Ll={class:"project-code"},Yl={key:1,class:"text-muted"},Al={key:0,class:"review-modal"},Jl={class:"project-basic-info"},Wl={class:"material-review-section"},Ql={class:"section-header"},Gl={class:"batch-actions"},Kl={class:"material-list"},Nl={class:"material-info"},Xl={class:"material-name"},Zl={class:"material-type"},es={class:"material-actions"},ts={class:"material-review-controls"},ls={class:"review-status-display"},ss=["onClick"],as={class:"status-icon"},ns=["onClick"],is={class:"status-icon"},os={class:"status-icon"},us={key:0,class:"edit-opinion-btn"},ds={key:0,class:"rejection-reason"},rs={class:"reason-content"},vs={class:"review-comments-section"},cs={class:"section-header"},ps={class:"comments-tip"},ms={class:"review-result-section"},fs={class:"auto-result-display"},_s={key:0,class:"rejection-details"},gs={class:"modal-footer"},ws={key:0,class:"rejection-form"},ys={class:"material-info"},bs={class:"material-type"},Ss={key:0,class:"meeting-modal"},ks={class:"meeting-materials"},xs={key:0,class:"materials-list"},Cs={class:"file-name"},Rs={class:"file-size"},js={key:0,class:"result-modal"},zs={class:"project-meeting-info"},hs={class:"conclusion-files"},Ms={key:0,class:"files-list"},Ts={class:"file-name"},Fs={class:"file-size"},Is={key:0,class:"improvement-review-modal"},$s={class:"project-basic-info"},Os={key:0,class:"original-requirements"},Us={class:"requirements-content"},qs={class:"improvement-materials"},Ds={class:"improvement-materials-list"},Ps={class:"material-item improvement-material"},Bs={class:"material-info"},Vs={class:"material-name"},Es={class:"material-meta"},Hs={class:"material-time"},Ls={class:"material-actions"},Ys={class:"material-item improvement-material"},As={class:"material-info"},Js={class:"material-name"},Ws={class:"material-meta"},Qs={class:"material-time"},Gs={class:"material-actions"},Ks={class:"material-item improvement-material"},Ns={class:"material-info"},Xs={class:"material-name"},Zs={class:"material-meta"},ea={class:"material-time"},ta={class:"material-actions"},la={class:"improvement-description"},sa={class:"description-content"},aa={class:"improvement-content"},na={class:"improvement-details"},ia={class:"improvement-submit-info"},oa={class:"review-result-section"},ua={key:0,class:"set-time-modal"},da={class:"project-basic-info"},ra={key:0,class:"detail-modal"},va={class:"detail-section"},ca={class:"detail-section"},pa={class:"material-list"},ma={class:"material-info"},fa={class:"material-name"},_a={class:"material-meta"},ga={class:"material-type"},wa={class:"material-actions"},ya={key:0,class:"detail-section"},ba={key:1,class:"detail-section"},Sa={class:"requirements-text"},ka={key:2,class:"detail-section"},xa={class:"improvement-text"},Ca={class:"detail-section"},Ra={class:"timeline-content"},ja={class:"timeline-time"},za={class:"timeline-content"},ha={class:"timeline-time"},Ma={class:"timeline-content"},Ta={class:"timeline-time"},Fa={class:"timeline-content"},Ia={class:"timeline-title"},$a={class:"timeline-time"},Oa={class:"timeline-content"},Ua={class:"timeline-time"},qa={__name:"center",setup(Da){Et();const r=x([{id:1,name:"æ™ºæ…§åŸå¸‚å¤§æ•°æ®å¹³å°å»ºè®¾é¡¹ç›®",code:"PROJ-2024-001",currentStatus:"material_reviewing",materialStatus:"reviewing",meetingStatus:"pending",finalResult:null,submitTime:"2024-01-15",meetingScheduled:!1,materials:[{id:1,name:"é¡¹ç›®éªŒæ”¶æŠ¥å‘Š.pdf",type:"éªŒæ”¶æŠ¥å‘Š",size:25e5,url:"/api/files/download/é¡¹ç›®éªŒæ”¶æŠ¥å‘Š.pdf",reviewStatus:"pending"},{id:2,name:"é¡¹ç›®æ€»ç»“æŠ¥å‘Š.docx",type:"æ€»ç»“æŠ¥å‘Š",size:12e5,url:"/api/files/download/é¡¹ç›®æ€»ç»“æŠ¥å‘Š.docx",reviewStatus:"pending"},{id:3,name:"æˆæœæ±‡æ€»ææ–™.zip",type:"æˆæœææ–™",size:85e5,url:"/api/files/download/æˆæœæ±‡æ€»ææ–™.zip",reviewStatus:"pending"}]},{id:2,name:"åŒºå—é“¾ä¾›åº”é“¾é‡‘èå¹³å°",code:"PROJ-2024-002",currentStatus:"meeting_preparing",materialStatus:"approved",meetingStatus:"preparing",finalResult:null,submitTime:"2024-01-20",meetingScheduled:!1,materials:[{id:4,name:"é¡¹ç›®éªŒæ”¶æŠ¥å‘Š.pdf",type:"éªŒæ”¶æŠ¥å‘Š",size:18e5,url:"/api/files/download/é¡¹ç›®éªŒæ”¶æŠ¥å‘Š.pdf",reviewStatus:"approved"},{id:5,name:"è´¢åŠ¡å†³ç®—æŠ¥å‘Š.xlsx",type:"è´¢åŠ¡æŠ¥å‘Š",size:5e5,url:"/api/files/download/è´¢åŠ¡å†³ç®—æŠ¥å‘Š.xlsx",reviewStatus:"approved"}]},{id:3,name:"ç‰©è”ç½‘ç¯å¢ƒç›‘æµ‹ç³»ç»Ÿ",code:"PROJ-2024-003",currentStatus:"meeting_scheduled",materialStatus:"approved",meetingStatus:"scheduled",finalResult:null,submitTime:"2024-01-12",meetingScheduled:!0,meetingInfo:{time:"2024-01-25 14:00",location:"ä¼šè®®å®¤A301",type:"offline",description:"é¡¹ç›®éªŒæ”¶ä¼šè®®ï¼Œé‡ç‚¹è¯„å®¡ç¯å¢ƒç›‘æµ‹ç³»ç»Ÿçš„æŠ€æœ¯å®ç°"},materials:[{id:6,name:"é¡¹ç›®éªŒæ”¶æŠ¥å‘Š.pdf",type:"éªŒæ”¶æŠ¥å‘Š",size:25e5,url:"/api/files/download/é¡¹ç›®éªŒæ”¶æŠ¥å‘Š.pdf",reviewStatus:"approved"},{id:7,name:"ç³»ç»Ÿæµ‹è¯•æŠ¥å‘Š.pdf",type:"æµ‹è¯•æŠ¥å‘Š",size:15e5,url:"/api/files/download/ç³»ç»Ÿæµ‹è¯•æŠ¥å‘Š.pdf",reviewStatus:"approved"}]},{id:4,name:"ç”µå­å•†åŠ¡æ•°æ®åˆ†æç³»ç»Ÿ",code:"PROJ-2024-004",currentStatus:"acceptance_passed",materialStatus:"approved",meetingStatus:"completed",finalResult:"passed",submitTime:"2024-01-08",meetingScheduled:!0,meetingInfo:{time:"2024-01-22 09:00",location:"ä¼šè®®å®¤B205",type:"offline",description:"é¡¹ç›®éªŒæ”¶ä¼šè®®ï¼Œé‚€è¯·ç›¸å…³ä¸“å®¶è¿›è¡Œè¯„å®¡"},materials:[{id:8,name:"é¡¹ç›®éªŒæ”¶æŠ¥å‘Š.pdf",type:"éªŒæ”¶æŠ¥å‘Š",size:25e5,url:"/api/files/download/é¡¹ç›®éªŒæ”¶æŠ¥å‘Š.pdf",reviewStatus:"approved"}],conclusion:{result:"passed",score:92,time:"2024-01-22",description:"é¡¹ç›®éªŒæ”¶é€šè¿‡ï¼Œç³»ç»ŸåŠŸèƒ½å®Œæ•´ï¼ŒæŠ€æœ¯æŒ‡æ ‡è¾¾æ ‡ã€‚"}},{id:5,name:"åœ¨çº¿æ•™è‚²ç®¡ç†å¹³å°",code:"PROJ-2024-005",currentStatus:"acceptance_conditional",materialStatus:"approved",meetingStatus:"completed",finalResult:"conditional_passed",submitTime:"2024-01-03",meetingScheduled:!0,meetingInfo:{time:"2024-01-21 14:30",location:"ä¼šè®®å®¤C102",type:"hybrid",description:"é¡¹ç›®éªŒæ”¶ä¼šè®®ï¼Œé‡‡ç”¨çº¿ä¸Šçº¿ä¸‹ç»“åˆçš„æ–¹å¼è¿›è¡Œ"},materials:[{id:9,name:"é¡¹ç›®éªŒæ”¶æŠ¥å‘Š.pdf",type:"éªŒæ”¶æŠ¥å‘Š",size:25e5,url:"/api/files/download/é¡¹ç›®éªŒæ”¶æŠ¥å‘Š.pdf",reviewStatus:"approved"},{id:10,name:"ç”¨æˆ·æ“ä½œæ‰‹å†Œ.pdf",type:"ç”¨æˆ·æ‰‹å†Œ",size:8e5,url:"/api/files/download/ç”¨æˆ·æ“ä½œæ‰‹å†Œ.pdf",reviewStatus:"approved"},{id:11,name:"æ•°æ®å¤‡ä»½æœºåˆ¶è¯´æ˜.pdf",type:"æ•´æ”¹ææ–™",size:6e5,url:"/api/files/download/æ•°æ®å¤‡ä»½æœºåˆ¶è¯´æ˜.pdf",reviewStatus:"pending"},{id:12,name:"ç³»ç»Ÿç•Œé¢ä¼˜åŒ–æŠ¥å‘Š.docx",type:"æ•´æ”¹ææ–™",size:12e5,url:"/api/files/download/ç³»ç»Ÿç•Œé¢ä¼˜åŒ–æŠ¥å‘Š.docx",reviewStatus:"pending"},{id:13,name:"æŠ€æœ¯æ–‡æ¡£è¡¥å…….zip",type:"æ•´æ”¹ææ–™",size:5e6,url:"/api/files/download/æŠ€æœ¯æ–‡æ¡£è¡¥å…….zip",reviewStatus:"pending"}],conclusion:{result:"conditional_passed",score:82,time:"2024-01-21",description:"é¡¹ç›®åŸºæœ¬è¾¾åˆ°éªŒæ”¶è¦æ±‚ï¼Œæœ‰æ¡ä»¶é€šè¿‡éªŒæ”¶ã€‚",requirements:"1. å®Œå–„æ•°æ®å¤‡ä»½æœºåˆ¶ï¼›2. ä¼˜åŒ–ç³»ç»Ÿç•Œé¢å¸ƒå±€ï¼›3. 30å¤©å†…æäº¤æ•´æ”¹ç¡®è®¤ã€‚"},improvementSubmitted:!0,improvementSubmitTime:"2024-01-28",improvementDescription:`é’ˆå¯¹éªŒæ”¶ä¼šè®®æå‡ºçš„æ•´æ”¹è¦æ±‚ï¼Œæˆ‘ä»¬å·²å®Œæˆä»¥ä¸‹å·¥ä½œï¼š
1. å®Œå–„äº†æ•°æ®å¤‡ä»½æœºåˆ¶ï¼Œå¢åŠ äº†è‡ªåŠ¨å¤‡ä»½å’Œæ‰‹åŠ¨å¤‡ä»½åŠŸèƒ½
2. ä¼˜åŒ–äº†ç³»ç»Ÿç•Œé¢å¸ƒå±€ï¼Œæå‡ç”¨æˆ·äº¤äº’ä½“éªŒ
3. è¡¥å……äº†ç›¸å…³æŠ€æœ¯æ–‡æ¡£å’Œç”¨æˆ·æ‰‹å†Œ
è¯·å®¡æ ¸ç›¸å…³ææ–™ï¼Œå¦‚æœ‰é—®é¢˜è¯·åŠæ—¶åé¦ˆã€‚`},{id:6,name:"ç§»åŠ¨åŠå…¬åº”ç”¨ç³»ç»Ÿ",code:"PROJ-2024-006",currentStatus:"acceptance_failed",materialStatus:"approved",meetingStatus:"completed",finalResult:"failed",submitTime:"2024-01-05",meetingScheduled:!0,meetingInfo:{time:"2024-01-20 10:00",location:"ä¼šè®®å®¤A108",type:"offline",description:"é¡¹ç›®éªŒæ”¶ä¼šè®®ï¼Œé‡ç‚¹å…³æ³¨ç³»ç»Ÿç¨³å®šæ€§å’ŒåŠŸèƒ½å®Œæ•´æ€§"},materials:[{id:14,name:"é¡¹ç›®éªŒæ”¶æŠ¥å‘Š.pdf",type:"éªŒæ”¶æŠ¥å‘Š",size:25e5,url:"/api/files/download/é¡¹ç›®éªŒæ”¶æŠ¥å‘Š.pdf",reviewStatus:"approved"}],conclusion:{result:"failed",score:68,time:"2024-01-20",description:"é¡¹ç›®éªŒæ”¶æœªé€šè¿‡ï¼Œç³»ç»Ÿç¨³å®šæ€§æœ‰å¾…æå‡ï¼Œéœ€è¦å®Œå–„ç›¸å…³åŠŸèƒ½ã€‚",requirements:"1. ä¼˜åŒ–ç³»ç»Ÿæ€§èƒ½ï¼›2. å®Œå–„ç”¨æˆ·ç•Œé¢ï¼›3. è¡¥å……æµ‹è¯•æ–‡æ¡£ã€‚"}}]),V=de(()=>{const a=r.value.filter(j=>j.currentStatus==="material_reviewing").length,e=r.value.filter(j=>j.currentStatus==="material_rejected").length,d=r.value.filter(j=>j.currentStatus==="meeting_preparing").length,c=r.value.filter(j=>j.currentStatus==="meeting_scheduled").length,f=r.value.filter(j=>j.currentStatus==="acceptance_passed").length,h=r.value.filter(j=>j.currentStatus==="acceptance_conditional").length,T=r.value.filter(j=>j.currentStatus==="acceptance_failed").length;return{materialReviewing:a,materialRejected:e,meetingPreparing:d,meetingScheduled:c,acceptancePassed:f,acceptanceConditional:h,acceptanceFailed:T}}),F=x({status:"",keyword:""}),ne=x(!1);x([{id:1,name:"å¼ æ•™æˆ",title:"é«˜çº§å·¥ç¨‹å¸ˆ"},{id:2,name:"æåšå£«",title:"æŠ€æœ¯ä¸“å®¶"},{id:3,name:"ç‹ä¸»ä»»",title:"é¡¹ç›®ç®¡ç†ä¸“å®¶"}]);const Fe=x([{value:"å¼ æ•™æˆ",label:"å¼ æ•™æˆ"},{value:"æåšå£«",label:"æåšå£«"},{value:"ç‹ä¸»ä»»",label:"ç‹ä¸»ä»»"},{value:"é™ˆé™¢é•¿",label:"é™ˆé™¢é•¿"},{value:"åˆ˜å¤„é•¿",label:"åˆ˜å¤„é•¿"}]),Ie=x([{value:"å¼ æ•™æˆ",label:"å¼ æ•™æˆ"},{value:"æåšå£«",label:"æåšå£«"},{value:"ç‹ä¸»ä»»",label:"ç‹ä¸»ä»»"},{value:"é™ˆé™¢é•¿",label:"é™ˆé™¢é•¿"},{value:"åˆ˜å¤„é•¿",label:"åˆ˜å¤„é•¿"},{value:"èµµä¸“å®¶",label:"èµµä¸“å®¶"},{value:"é’±ä¸“å®¶",label:"é’±ä¸“å®¶"},{value:"å­™ä¸“å®¶",label:"å­™ä¸“å®¶"},{value:"æä¸“å®¶",label:"æä¸“å®¶"}]),$e=[{title:"é¡¹ç›®ä¿¡æ¯",key:"name",width:300},{title:"ææ–™çŠ¶æ€",key:"materialStatus",width:120},{title:"ä¼šè®®çŠ¶æ€",key:"meetingStatus",width:120},{title:"éªŒæ”¶ç»“è®º",key:"finalResult",width:120},{title:"æäº¤æ—¶é—´",dataIndex:"submitTime",width:120},{title:"æ“ä½œ",key:"actions",width:200,fixed:"right"}],ye=x({current:1,pageSize:10,total:0,showSizeChanger:!0,showQuickJumper:!0,showTotal:a=>`å…± ${a} æ¡è®°å½•`}),L=x(!1),W=x(!1),Q=x(!1),G=x(!1),ie=x(!1),K=x(!1),i=x(null),z=x({comments:"",result:"approved",rejectionReason:""}),oe=x(new Map),N=x(!1),Y=x(!1),I=x(null),D=x({reason:""}),k=x({datetime:void 0,location:"",type:"offline",hosts:[],experts:[],materials:[],description:""}),y=x({conclusion:"passed",score:85,description:"",requirements:"",conclusionFiles:[]}),$=x({result:"approved",comments:"",requirements:""}),O=x({datetime:void 0,remark:""}),me=x(!1),be=x({}),Oe=de(()=>{let a=r.value;return F.value.status&&(a=a.filter(e=>e.currentStatus===F.value.status)),F.value.keyword&&(a=a.filter(e=>e.name.includes(F.value.keyword)||e.code.includes(F.value.keyword))),ye.value.total=a.length,a}),Ue=de(()=>{var a;return(a=i.value)!=null&&a.materials?i.value.materials.some(e=>e.reviewStatus&&e.reviewStatus!=="pending"):!1}),ue=de(()=>{var e,d;return(d=(e=i.value)==null?void 0:e.materials)!=null&&d.length&&i.value.materials.some(c=>c.reviewStatus==="rejected")?"rejected":"approved"}),qe=a=>({reviewing:"orange",approved:"green",rejected:"red"})[a]||"default",De=a=>({reviewing:"å®¡æ ¸ä¸­",approved:"å·²é€šè¿‡",rejected:"å·²é©³å›"})[a]||"æœªçŸ¥",Pe=a=>({pending:"default",preparing:"blue",scheduled:"purple",completed:"green"})[a]||"default",Be=a=>({pending:"å¾…å®‰æ’",preparing:"å¾…ç»„ç»‡",scheduled:"å·²å®‰æ’",completed:"å·²å®Œæˆ"})[a]||"æœªçŸ¥",Ve=a=>({passed:"green",conditional_passed:"orange",failed:"red"})[a]||"default",Ee=a=>({passed:"éªŒæ”¶é€šè¿‡",conditional_passed:"æœ‰æ¡ä»¶é€šè¿‡",failed:"éªŒæ”¶æœªé€šè¿‡"})[a]||"å¾…å®š",He=a=>({material_reviewing:"orange",meeting_preparing:"blue",meeting_scheduled:"cyan",acceptance_passed:"green",acceptance_conditional:"orange",acceptance_failed:"red"})[a]||"default",Le=a=>({material_reviewing:"ææ–™å®¡æ ¸ä¸­",meeting_preparing:"ä¼šè®®å¾…ç»„ç»‡",meeting_scheduled:"ä¼šè®®å·²å®‰æ’",acceptance_passed:"éªŒæ”¶é€šè¿‡",acceptance_conditional:"æœ‰æ¡ä»¶é€šè¿‡",acceptance_failed:"éªŒæ”¶æœªé€šè¿‡"})[a]||"æœªçŸ¥çŠ¶æ€",Ye=()=>{w.info("æ‰¹é‡å®¡æ ¸åŠŸèƒ½")},Ae=()=>{},Je=()=>{},We=a=>{i.value=a,oe.value.clear(),N.value=!1,a.materials&&a.materials.forEach(e=>{oe.value.set(e.id,{reviewStatus:e.reviewStatus||"pending",rejectionReason:e.rejectionReason||"",showFullReason:e.showFullReason||!1}),e.reviewStatus||(e.reviewStatus="pending"),e.rejectionReason||(e.rejectionReason="")}),z.value={comments:"",result:ue.value,rejectionReason:""},J(),L.value=!0},Qe=a=>{i.value=a,k.value={datetime:void 0,location:"",type:"offline",experts:[],description:""},W.value=!0},Ge=a=>{i.value=a,y.value={conclusion:"passed",score:85,description:"",requirements:"",conclusionFiles:[]},Q.value=!0},Ke=a=>{i.value=a,ie.value=!0},Ne=()=>{ie.value=!1},Xe=()=>{Z()?Te.confirm({title:"ç¡®è®¤æ”¾å¼ƒå®¡æ ¸ï¼Ÿ",content:"æ‚¨å·²å¯¹ææ–™è¿›è¡Œäº†å®¡æ ¸æ“ä½œï¼Œæ˜¯å¦ç¡®å®šæ”¾å¼ƒæœ¬æ¬¡å®¡æ ¸å¹¶æ¢å¤åˆ°å®¡æ ¸å‰çŠ¶æ€ï¼Ÿ",okText:"ç¡®å®šæ”¾å¼ƒ",cancelText:"ç»§ç»­å®¡æ ¸",okType:"danger",onOk(){bt(),L.value=!1,w.info("å·²æ¢å¤åˆ°å®¡æ ¸å‰çŠ¶æ€")},onCancel(){}}):L.value=!1},Ze=()=>{var e,d;if(!z.value.comments.trim()){w.error("è¯·å¡«å†™å®¡æ ¸æ„è§");return}const a=((d=(e=i.value)==null?void 0:e.materials)==null?void 0:d.filter(c=>c.reviewStatus==="rejected"))||[];if(a.length>0&&!a.every(f=>{var h;return(h=f.rejectionReason)==null?void 0:h.trim()})){w.error("å­˜åœ¨è¢«é©³å›çš„ææ–™ä½†æœªå¡«å†™é©³å›åŸå› ï¼Œè¯·å®Œå–„åæäº¤");return}if(z.value.result=ue.value,w.success("ææ–™å®¡æ ¸å®Œæˆ"),L.value=!1,i.value){const c=r.value.findIndex(f=>f.id===i.value.id);if(c!==-1){const f=new Date().toISOString().split("T")[0];z.value.result==="approved"?(r.value[c].currentStatus="meeting_preparing",r.value[c].materialStatus="approved",r.value[c].meetingStatus="preparing",r.value[c].reviewHistory=r.value[c].reviewHistory||[],r.value[c].reviewHistory.push({type:"material_review",result:"approved",comments:z.value.comments,time:f,reviewer:"å½“å‰ç®¡ç†å‘˜"}),w.success("ææ–™å®¡æ ¸é€šè¿‡ï¼Œé¡¹ç›®è¿›å…¥ä¼šè®®ç»„ç»‡é˜¶æ®µ")):(r.value[c].currentStatus="material_reviewing",r.value[c].materialStatus="rejected",r.value[c].materialRejected=!0,r.value[c].rejectionInfo={time:f,reviewer:"å½“å‰ç®¡ç†å‘˜",comments:z.value.comments,rejectionReason:z.value.comments},r.value[c].reviewHistory=r.value[c].reviewHistory||[],r.value[c].reviewHistory.push({type:"material_review",result:"rejected",comments:z.value.comments,rejectionReason:z.value.comments,time:f,reviewer:"å½“å‰ç®¡ç†å‘˜"}),w.warning("ææ–™å®¡æ ¸ä¸é€šè¿‡ï¼Œå·²é€šçŸ¥ç”³è¯·äººæ ¹æ®æ„è§é‡æ–°æäº¤ææ–™")),r.value[c].materials&&r.value[c].materials.forEach(h=>{h.reviewStatus&&h.reviewStatus!=="pending"&&(h.reviewTime=f,h.reviewer="å½“å‰ç®¡ç†å‘˜")})}}},et=()=>{var a;if(w.success("ä¼šè®®å®‰æ’å®Œæˆ"),W.value=!1,i.value){const e=r.value.findIndex(d=>d.id===i.value.id);e!==-1&&(r.value[e].currentStatus="meeting_scheduled",r.value[e].meetingStatus="scheduled",r.value[e].meetingScheduled=!0,r.value[e].meetingInfo={time:(a=k.value.datetime)==null?void 0:a.format("YYYY-MM-DD HH:mm"),location:k.value.location,type:k.value.type,experts:k.value.experts,description:k.value.description})}},tt=()=>{W.value=!1},lt=(a,e)=>e.label.toLowerCase().indexOf(a.toLowerCase())>=0,st=(a,e)=>e.label.toLowerCase().indexOf(a.toLowerCase())>=0,at=a=>["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-rar-compressed"].includes(a.type)?(a.size/1024/1024<50||w.error("æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡50MBï¼"),!1):(w.error("è¯·ä¸Šä¼ PDFã€Wordã€PPTã€Excelæˆ–å‹ç¼©åŒ…æ ¼å¼çš„æ–‡ä»¶ï¼"),!1),nt=a=>{const e=k.value.materials.findIndex(d=>d.uid===a.uid);e>-1&&k.value.materials.splice(e,1)},it=a=>{k.value.materials.splice(a,1)},Se=a=>a<1024?a+" B":a<1024*1024?Math.round(a/1024)+" KB":Math.round(a/(1024*1024))+" MB",ot=a=>a.size/1024/1024<20?!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(a.type)&&!a.name.match(/\.(pdf|doc|docx|xls|xlsx)$/i)?(w.error("åªæ”¯æŒPDFã€Wordã€Excelæ ¼å¼!"),!1):(y.value.conclusionFiles.push(a),w.success(`æ–‡ä»¶ ${a.name} æ·»åŠ æˆåŠŸ`),!1):(w.error("æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡20MB!"),!1),ut=a=>{const e=y.value.conclusionFiles.findIndex(d=>d.uid===a.uid);e>-1&&y.value.conclusionFiles.splice(e,1)},dt=a=>{y.value.conclusionFiles.splice(a,1),w.success("æ–‡ä»¶åˆ é™¤æˆåŠŸ")},rt=()=>{if(!y.value.conclusion){w.error("è¯·é€‰æ‹©éªŒæ”¶ç»“è®º");return}if(!y.value.description){w.error("è¯·å¡«å†™ç»“è®ºè¯´æ˜");return}if(y.value.conclusion!=="passed"&&!y.value.requirements){w.error("è¯·å¡«å†™æ•´æ”¹è¦æ±‚");return}if(w.success("éªŒæ”¶ç»“è®ºå½•å…¥å®Œæˆ"),Q.value=!1,i.value){const a=r.value.findIndex(e=>e.id===i.value.id);if(a!==-1){switch(r.value[a].finalResult=y.value.conclusion,r.value[a].meetingStatus="completed",y.value.conclusion){case"passed":r.value[a].currentStatus="acceptance_passed";break;case"conditional_passed":r.value[a].currentStatus="acceptance_conditional";break;case"failed":r.value[a].currentStatus="acceptance_failed";break}r.value[a].conclusion={result:y.value.conclusion,score:y.value.score,description:y.value.description,requirements:y.value.requirements,conclusionFiles:y.value.conclusionFiles,time:new Date().toISOString().split("T")[0]}}}},vt=()=>{Q.value=!1},ct=()=>{const a=$.value.result,e=$.value.comments.trim(),d=$.value.requirements.trim();if(!e){w.error("è¯·å¡«å†™å®¡æ ¸æ„è§");return}if(a==="rejected"&&!d){w.error("å®¡æ ¸ä¸é€šè¿‡æ—¶ï¼Œè¯·å¡«å†™æ–°çš„æ•´æ”¹è¦æ±‚");return}if(i.value){const c=r.value.findIndex(f=>f.id===i.value.id);if(c!==-1){const f=new Date().toISOString().split("T")[0];a==="approved"?(r.value[c].currentStatus="acceptance_passed",r.value[c].finalResult="passed",r.value[c].conclusion={...r.value[c].conclusion,result:"passed",rectificationConfirmed:!0,rectificationTime:f,rectificationComments:e,rectificationRejected:!1},r.value[c].improvementSubmitted=!0,w.success("æ•´æ”¹ææ–™å®¡æ ¸é€šè¿‡ï¼Œé¡¹ç›®éªŒæ”¶å®Œæˆï¼")):(r.value[c].conclusion={...r.value[c].conclusion,rectificationRejected:!0,rectificationRejectTime:f,rectificationRejectComments:e,newRequirements:d,result:"conditional_passed"},w.warning("æ•´æ”¹ææ–™å®¡æ ¸ä¸é€šè¿‡ï¼Œå·²è®°å½•æ–°çš„æ•´æ”¹è¦æ±‚ï¼Œç”³è¯·äººéœ€è¦é‡æ–°æäº¤æ•´æ”¹ææ–™"))}}G.value=!1},pt=()=>{G.value=!1},X=a=>{be.value={id:a.id,name:a.name,type:a.type,size:a.size||ft(a.name),url:ke(a.name),uploadTime:a.uploadTime||"2024-01-15 10:30"},me.value=!0},A=a=>{const e=document.createElement("a");e.href=ke(a.name),e.download=a.name,e.click(),w.success(`æ­£åœ¨ä¸‹è½½ï¼š${a.name}`)},mt=a=>{A(a)},ft=a=>a.includes(".pdf")?2.5*1024*1024:a.includes(".docx")?1.2*1024*1024:a.includes(".pptx")?3.8*1024*1024:a.includes(".zip")?8.5*1024*1024:1.5*1024*1024,ke=a=>`/api/files/download/${encodeURIComponent(a)}`,_t=a=>{a.reviewStatus="approved",a.rejectionReason="",Z(),J(),w.success(`ææ–™ "${a.name}" å®¡æ ¸é€šè¿‡`)},gt=a=>{I.value=a,D.value.reason=a.rejectionReason||"",Y.value=!0},wt=a=>{I.value=a,D.value.reason=a.rejectionReason||"",Y.value=!0},yt=a=>{a.showFullReason=!a.showFullReason},Z=()=>{var a;if(!((a=i.value)!=null&&a.materials))return N.value=!1,!1;for(const e of i.value.materials){const d=oe.value.get(e.id);if(d&&(e.reviewStatus!==d.reviewStatus||e.rejectionReason!==d.rejectionReason))return N.value=!0,!0}return N.value=!1,!1},bt=()=>{var a;(a=i.value)!=null&&a.materials&&(i.value.materials.forEach(e=>{const d=oe.value.get(e.id);d&&(e.reviewStatus=d.reviewStatus,e.rejectionReason=d.rejectionReason,e.showFullReason=d.showFullReason)}),N.value=!1)},St=()=>{if(!D.value.reason.trim()){w.error("è¯·å¡«å†™é©³å›åŸå› ");return}I.value&&(I.value.reviewStatus="rejected",I.value.rejectionReason=D.value.reason,Z(),J(),w.success(`ææ–™ "${I.value.name}" å·²é©³å›`)),Y.value=!1,I.value=null,D.value.reason=""},kt=()=>{Y.value=!1,I.value=null,D.value.reason=""},xt=()=>{var a,e;(e=(a=i.value)==null?void 0:a.materials)!=null&&e.length&&(i.value.materials.forEach(d=>{d.reviewStatus="approved",d.rejectionReason=""}),Z(),J(),w.success("å·²å°†æ‰€æœ‰ææ–™è®¾ä¸ºé€šè¿‡"))},Ct=()=>{var a,e;(e=(a=i.value)==null?void 0:a.materials)!=null&&e.length&&(i.value.materials.forEach(d=>{d.reviewStatus="rejected",d.rejectionReason||(d.rejectionReason="è¯·å‚è€ƒæ•´ä½“å®¡æ ¸æ„è§è¿›è¡Œä¿®æ”¹")}),Z(),J(),w.warning("å·²å°†æ‰€æœ‰ææ–™è®¾ä¸ºé©³å›ï¼Œè¯·åœ¨å®¡æ ¸æ„è§ä¸­è¡¥å……è¯¦ç»†çš„é©³å›åŸå› "))},Rt=()=>{J(),w.success("å®¡æ ¸æ„è§å·²é‡æ–°ç”Ÿæˆ")},J=()=>{var e,d;if(!((d=(e=i.value)==null?void 0:e.materials)!=null&&d.length))return;const a=[];if(i.value.materials.forEach(c=>{c.reviewStatus==="approved"?a.push(`${c.name} - å®¡æ ¸é€šè¿‡`):c.reviewStatus==="rejected"&&c.rejectionReason&&a.push(`${c.name} - é©³å›åŸå› ï¼š${c.rejectionReason}`)}),a.length>0){const c=z.value.comments,f=a.join(`
`);if(!c.includes(f)){const h=c.split(`
`).filter(T=>!T.includes(" - å®¡æ ¸é€šè¿‡")&&!T.includes(" - é©³å›åŸå› ï¼š")).join(`
`).trim();z.value.comments=f+(h?`

`+h:"")}}},jt=a=>{i.value=a,$.value={result:"approved",comments:"",requirements:""},G.value=!0},zt=a=>{i.value=a,Te.confirm({title:"é‡æ–°å®¡æ ¸",content:`ç¡®è®¤å¯¹é¡¹ç›®"${a.name}"è¿›è¡Œé‡æ–°å®¡æ ¸ï¼Ÿè¿™å°†é‡ç½®é¡¹ç›®çŠ¶æ€åˆ°ææ–™å®¡æ ¸é˜¶æ®µã€‚`,okText:"ç¡®è®¤é‡å®¡",cancelText:"å–æ¶ˆ",onOk(){const e=r.value.findIndex(d=>d.id===a.id);e!==-1&&(r.value[e].currentStatus="material_reviewing",r.value[e].materialStatus="reviewing",r.value[e].meetingStatus="pending",r.value[e].finalResult=null,delete r.value[e].conclusion,w.success("é¡¹ç›®å·²é‡ç½®ä¸ºææ–™å®¡æ ¸é˜¶æ®µï¼Œå¯é‡æ–°å¼€å§‹å®¡æ ¸æµç¨‹"))}})},ht=a=>{i.value=a,O.value={datetime:void 0,remark:""},K.value=!0},Mt=()=>{if(!O.value.datetime){w.error("è¯·é€‰æ‹©æŠ¥å‘Šä¼šæ—¶é—´");return}if(i.value){const a=r.value.findIndex(e=>e.id===i.value.id);a!==-1&&(r.value[a].meetingInfo=r.value[a].meetingInfo||{},r.value[a].meetingInfo.scheduledTime=O.value.datetime.format("YYYY-MM-DD HH:mm"),r.value[a].meetingInfo.timeRemark=O.value.remark,r.value[a].meetingScheduled=!0,w.success("éªŒæ”¶æŠ¥å‘Šä¼šæ—¶é—´è®¾ç½®æˆåŠŸ"))}K.value=!1},Tt=()=>{K.value=!1},Ft=a=>a&&a<Nt().startOf("day"),It=()=>{ne.value=!ne.value},E=a=>{F.value.keyword="",F.value.status=a};return Ht(()=>{}),(a,e)=>{const d=b("a-button"),c=b("a-step"),f=b("a-tag"),h=b("a-steps"),T=b("a-select-option"),j=b("a-select"),$t=b("a-input-search"),fe=b("a-space"),Ot=b("a-table"),g=b("a-descriptions-item"),P=b("a-descriptions"),U=b("a-textarea"),xe=b("a-alert"),R=b("a-form-item"),H=b("a-modal"),ee=b("a-form"),Ce=b("a-date-picker"),Re=b("a-col"),Ut=b("a-input"),qt=b("a-row"),B=b("a-radio"),_e=b("a-radio-group"),je=b("a-upload"),Dt=b("a-input-number"),Pt=b("a-card"),te=b("a-timeline-item"),Bt=b("a-timeline"),Vt=b("FilePreview");return v(),S("div",Zt,[l("div",el,[l("div",tl,[l("h1",ll,[l("span",sl,[t(m(Jt))]),e[43]||(e[43]=o(" éªŒæ”¶ç®¡ç†ä¸­å¿ƒ ",-1))]),e[44]||(e[44]=l("p",{class:"page-description"}," å®¡æ ¸éªŒæ”¶ææ–™ï¼Œç»„ç»‡éªŒæ”¶ä¼šè®®ï¼Œç®¡ç†éªŒæ”¶æµç¨‹ ",-1))]),l("div",al,[t(d,{type:"primary",onClick:Ye},{default:s(()=>[t(m(ge)),e[45]||(e[45]=o(" æ‰¹é‡å®¡æ ¸ ",-1))]),_:1,__:[45]})])]),l("div",nl,[l("div",il,[l("div",{class:"stat-card pending",onClick:e[0]||(e[0]=n=>E("material_reviewing"))},[l("div",ol,[t(m(Wt))]),l("div",ul,[l("div",dl,u(V.value.materialReviewing),1),e[46]||(e[46]=l("div",{class:"stat-label"},"ææ–™å®¡æ ¸ä¸­",-1))])]),l("div",{class:"stat-card material-rejected",onClick:e[1]||(e[1]=n=>E("material_rejected"))},[l("div",rl,[t(m(ze))]),l("div",vl,[l("div",cl,u(V.value.materialRejected),1),e[47]||(e[47]=l("div",{class:"stat-label"},"ææ–™å®¡æ ¸æœªé€šè¿‡",-1))])]),l("div",{class:"stat-card reviewing",onClick:e[2]||(e[2]=n=>E("meeting_preparing"))},[l("div",pl,[t(m(ce))]),l("div",ml,[l("div",fl,u(V.value.meetingPreparing),1),e[48]||(e[48]=l("div",{class:"stat-label"},"ä¼šè®®å¾…ç»„ç»‡",-1))])]),l("div",{class:"stat-card scheduled",onClick:e[3]||(e[3]=n=>E("meeting_scheduled"))},[l("div",_l,[t(m(we))]),l("div",gl,[l("div",wl,u(V.value.meetingScheduled),1),e[49]||(e[49]=l("div",{class:"stat-label"},"ä¼šè®®å·²å®‰æ’",-1))])]),l("div",{class:"stat-card completed",onClick:e[4]||(e[4]=n=>E("acceptance_passed"))},[l("div",yl,[t(m(pe))]),l("div",bl,[l("div",Sl,u(V.value.acceptancePassed),1),e[50]||(e[50]=l("div",{class:"stat-label"},"éªŒæ”¶é€šè¿‡",-1))])]),l("div",{class:"stat-card conditional",onClick:e[5]||(e[5]=n=>E("acceptance_conditional"))},[l("div",kl,[t(m(he))]),l("div",xl,[l("div",Cl,u(V.value.acceptanceConditional),1),e[51]||(e[51]=l("div",{class:"stat-label"},"æœ‰æ¡ä»¶é€šè¿‡",-1))])]),l("div",{class:"stat-card rejected",onClick:e[6]||(e[6]=n=>E("acceptance_failed"))},[l("div",Rl,[t(m(Qt))]),l("div",jl,[l("div",zl,u(V.value.acceptanceFailed),1),e[52]||(e[52]=l("div",{class:"stat-label"},"éªŒæ”¶æœªé€šè¿‡",-1))])])])]),l("div",hl,[l("div",Ml,[l("h3",null,[t(m(he)),e[53]||(e[53]=o(" éªŒæ”¶æµç¨‹è¯´æ˜ ",-1))]),t(d,{type:"link",size:"small",onClick:It},{default:s(()=>[o(u(ne.value?"æ”¶èµ·":"å±•å¼€"),1)]),_:1})]),Lt(l("div",Tl,[t(h,{current:3,size:"small",direction:"horizontal",status:"finish"},{default:s(()=>[t(c,{title:"ç”³è¯·æäº¤",description:"ç”³æŠ¥å•ä½æäº¤éªŒæ”¶ç”³è¯·",status:"finish"}),t(c,{title:"ææ–™å®¡æ ¸",status:"finish"},{description:s(()=>[l("div",Fl,[e[56]||(e[56]=o(" å®¡æ ¸éªŒæ”¶ææ–™ï¼Œå†³å®šé€šè¿‡æˆ–é©³å› ",-1)),l("div",Il,[t(f,{color:"orange",size:"small"},{default:s(()=>e[54]||(e[54]=[o("ææ–™å®¡æ ¸ä¸­",-1)])),_:1,__:[54]}),t(f,{color:"red",size:"small"},{default:s(()=>e[55]||(e[55]=[o("ææ–™å®¡æ ¸æœªé€šè¿‡",-1)])),_:1,__:[55]})])])]),_:1}),t(c,{title:"ç»„ç»‡ä¼šè®®",status:"finish"},{description:s(()=>[l("div",$l,[e[59]||(e[59]=o(" å®‰æ’éªŒæ”¶ä¼šè®®å¹¶ç»„ç»‡ä¸“å®¶è¯„å®¡ ",-1)),l("div",Ol,[t(f,{color:"blue",size:"small"},{default:s(()=>e[57]||(e[57]=[o("ä¼šè®®å¾…ç»„ç»‡",-1)])),_:1,__:[57]}),t(f,{color:"cyan",size:"small"},{default:s(()=>e[58]||(e[58]=[o("ä¼šè®®å·²å®‰æ’",-1)])),_:1,__:[58]})])])]),_:1}),t(c,{title:"ç»“è®ºå½•å…¥",status:"finish"},{description:s(()=>[l("div",Ul,[e[63]||(e[63]=o(" æ ¹æ®ä¼šè®®ç»“æœå½•å…¥æœ€ç»ˆéªŒæ”¶ç»“è®º ",-1)),l("div",ql,[t(f,{color:"green",size:"small"},{default:s(()=>e[60]||(e[60]=[o("éªŒæ”¶é€šè¿‡",-1)])),_:1,__:[60]}),t(f,{color:"orange",size:"small"},{default:s(()=>e[61]||(e[61]=[o("æœ‰æ¡ä»¶é€šè¿‡",-1)])),_:1,__:[61]}),t(f,{color:"red",size:"small"},{default:s(()=>e[62]||(e[62]=[o("éªŒæ”¶æœªé€šè¿‡",-1)])),_:1,__:[62]})])])]),_:1})]),_:1})],512),[[Yt,ne.value]])]),l("div",Dl,[l("div",Pl,[l("h3",null,[t(m(Gt)),e[64]||(e[64]=o(" é¡¹ç›®å®¡æ ¸ç®¡ç† ",-1))]),l("div",Bl,[t(j,{value:F.value.status,"onUpdate:value":e[7]||(e[7]=n=>F.value.status=n),placeholder:"ç­›é€‰çŠ¶æ€",style:{width:"150px"},onChange:Ae},{default:s(()=>[t(T,{value:""},{default:s(()=>e[65]||(e[65]=[o("å…¨éƒ¨çŠ¶æ€",-1)])),_:1,__:[65]}),t(T,{value:"material_reviewing"},{default:s(()=>e[66]||(e[66]=[o("ææ–™å®¡æ ¸ä¸­",-1)])),_:1,__:[66]}),t(T,{value:"material_rejected"},{default:s(()=>e[67]||(e[67]=[o("ææ–™å®¡æ ¸æœªé€šè¿‡",-1)])),_:1,__:[67]}),t(T,{value:"meeting_preparing"},{default:s(()=>e[68]||(e[68]=[o("ä¼šè®®å¾…ç»„ç»‡",-1)])),_:1,__:[68]}),t(T,{value:"meeting_scheduled"},{default:s(()=>e[69]||(e[69]=[o("ä¼šè®®å·²å®‰æ’",-1)])),_:1,__:[69]}),t(T,{value:"acceptance_passed"},{default:s(()=>e[70]||(e[70]=[o("éªŒæ”¶é€šè¿‡",-1)])),_:1,__:[70]}),t(T,{value:"acceptance_conditional"},{default:s(()=>e[71]||(e[71]=[o("æœ‰æ¡ä»¶é€šè¿‡",-1)])),_:1,__:[71]}),t(T,{value:"acceptance_failed"},{default:s(()=>e[72]||(e[72]=[o("éªŒæ”¶æœªé€šè¿‡",-1)])),_:1,__:[72]})]),_:1},8,["value"]),t($t,{value:F.value.keyword,"onUpdate:value":e[8]||(e[8]=n=>F.value.keyword=n),placeholder:"æœç´¢é¡¹ç›®",style:{width:"200px"},onSearch:Je},null,8,["value"])])]),l("div",Vl,[t(Ot,{columns:$e,"data-source":Oe.value,pagination:ye.value,"row-key":"id",size:"middle"},{bodyCell:s(({column:n,record:p})=>[n.key==="name"?(v(),S("div",El,[l("div",Hl,u(p.name),1),l("div",Ll,u(p.code),1)])):n.key==="materialStatus"?(v(),C(f,{key:1,color:qe(p.materialStatus)},{default:s(()=>[o(u(De(p.materialStatus)),1)]),_:2},1032,["color"])):n.key==="meetingStatus"?(v(),C(f,{key:2,color:Pe(p.meetingStatus)},{default:s(()=>[o(u(Be(p.meetingStatus)),1)]),_:2},1032,["color"])):n.key==="finalResult"?(v(),S(le,{key:3},[p.finalResult?(v(),C(f,{key:0,color:Ve(p.finalResult)},{default:s(()=>[o(u(Ee(p.finalResult)),1)]),_:2},1032,["color"])):(v(),S("span",Yl,"å¾…å®š"))],64)):n.key==="actions"?(v(),C(fe,{key:4},{default:s(()=>[p.currentStatus==="material_reviewing"?(v(),C(d,{key:0,type:"primary",size:"small",onClick:M=>We(p)},{default:s(()=>e[73]||(e[73]=[o(" å®¡æ ¸ææ–™ ",-1)])),_:2,__:[73]},1032,["onClick"])):_("",!0),p.currentStatus==="meeting_preparing"?(v(),C(d,{key:1,type:"primary",size:"small",onClick:M=>Qe(p)},{default:s(()=>e[74]||(e[74]=[o(" ç»„ç»‡ä¼šè®® ",-1)])),_:2,__:[74]},1032,["onClick"])):_("",!0),p.currentStatus==="meeting_preparing"&&!p.meetingScheduled?(v(),C(d,{key:2,type:"default",size:"small",onClick:M=>ht(p)},{default:s(()=>[t(m(ce)),e[75]||(e[75]=o(" è®¾ç½®æ—¶é—´ ",-1))]),_:2,__:[75]},1032,["onClick"])):_("",!0),p.currentStatus==="meeting_scheduled"?(v(),C(d,{key:3,type:"primary",size:"small",onClick:M=>Ge(p)},{default:s(()=>e[76]||(e[76]=[o(" å½•å…¥ç»“è®º ",-1)])),_:2,__:[76]},1032,["onClick"])):_("",!0),p.currentStatus==="acceptance_conditional"?(v(),C(d,{key:4,type:"primary",size:"small",onClick:M=>jt(p)},{default:s(()=>e[77]||(e[77]=[o(" å®¡æ ¸æ•´æ”¹ææ–™ ",-1)])),_:2,__:[77]},1032,["onClick"])):_("",!0),p.currentStatus==="acceptance_failed"?(v(),C(d,{key:5,type:"default",size:"small",onClick:M=>zt(p)},{default:s(()=>e[78]||(e[78]=[o(" é‡æ–°å®¡æ ¸ ",-1)])),_:2,__:[78]},1032,["onClick"])):_("",!0),t(d,{type:"link",size:"small",onClick:M=>Ke(p)},{default:s(()=>e[79]||(e[79]=[o(" æŸ¥çœ‹è¯¦æƒ… ",-1)])),_:2,__:[79]},1032,["onClick"])]),_:2},1024)):_("",!0)]),_:1},8,["data-source","pagination"])])]),t(H,{open:L.value,"onUpdate:open":e[11]||(e[11]=n=>L.value=n),title:"ææ–™å®¡æ ¸",width:"800px",closable:!1,footer:null},{default:s(()=>[i.value?(v(),S("div",Al,[l("div",Jl,[e[80]||(e[80]=l("h4",null,"é¡¹ç›®åŸºæœ¬ä¿¡æ¯",-1)),t(P,{column:2,bordered:"",size:"small"},{default:s(()=>[t(g,{label:"é¡¹ç›®åç§°",span:2},{default:s(()=>[o(u(i.value.name),1)]),_:1}),t(g,{label:"é¡¹ç›®ç¼–å·"},{default:s(()=>[o(u(i.value.code),1)]),_:1}),t(g,{label:"ç”³è¯·æ—¶é—´"},{default:s(()=>[o(u(i.value.submitTime),1)]),_:1})]),_:1})]),l("div",Wl,[l("div",Ql,[e[83]||(e[83]=l("h4",null,"ææ–™å®¡æ ¸",-1)),l("div",Gl,[t(fe,null,{default:s(()=>{var n,p;return[t(d,{type:"primary",size:"small",onClick:xt,disabled:!((n=i.value.materials)!=null&&n.length)},{default:s(()=>e[81]||(e[81]=[o(" ğŸš€ ä¸€é”®é€šè¿‡å…¨éƒ¨ ",-1)])),_:1,__:[81]},8,["disabled"]),t(d,{danger:"",size:"small",onClick:Ct,disabled:!((p=i.value.materials)!=null&&p.length)},{default:s(()=>e[82]||(e[82]=[o(" ğŸš« ä¸€é”®é©³å›å…¨éƒ¨ ",-1)])),_:1,__:[82]},8,["disabled"])]}),_:1})])]),l("div",Kl,[(v(!0),S(le,null,re(i.value.materials,n=>(v(),S("div",{key:n.id,class:"material-item"},[l("div",Nl,[l("div",Xl,u(n.name),1),l("div",Zl,u(n.type),1)]),l("div",es,[t(d,{type:"link",size:"small",onClick:p=>X(n)},{default:s(()=>[t(m(se)),e[84]||(e[84]=o(" é¢„è§ˆ ",-1))]),_:2,__:[84]},1032,["onClick"]),t(d,{type:"link",size:"small",onClick:p=>A(n)},{default:s(()=>[t(m(ae)),e[85]||(e[85]=o(" ä¸‹è½½ ",-1))]),_:2,__:[85]},1032,["onClick"])]),l("div",ts,[l("div",ls,[l("div",{class:ve(["status-option",{"status-active":n.reviewStatus==="approved","status-approved":n.reviewStatus==="approved"}]),onClick:p=>_t(n)},[l("div",as,u(n.reviewStatus==="approved"?"âœ…":"âšª"),1),e[86]||(e[86]=l("div",{class:"status-text"},"é€šè¿‡",-1))],10,ss),l("div",{class:ve(["status-option",{"status-active":n.reviewStatus==="rejected","status-rejected":n.reviewStatus==="rejected"}]),onClick:p=>gt(n)},[l("div",is,u(n.reviewStatus==="rejected"?"âŒ":"âšª"),1),e[87]||(e[87]=l("div",{class:"status-text"},"é©³å›",-1))],10,ns),l("div",{class:ve(["status-option",{"status-active":!n.reviewStatus||n.reviewStatus==="pending","status-pending":!n.reviewStatus||n.reviewStatus==="pending"}])},[l("div",os,u(!n.reviewStatus||n.reviewStatus==="pending"?"â³":"âšª"),1),e[88]||(e[88]=l("div",{class:"status-text"},"å¾…å®¡",-1))],2)]),n.rejectionReason?(v(),S("div",us,[t(d,{size:"small",type:"dashed",onClick:p=>wt(n)},{default:s(()=>e[89]||(e[89]=[o(" ğŸ“ ç¼–è¾‘æ„è§ ",-1)])),_:2,__:[89]},1032,["onClick"])])):_("",!0)]),n.rejectionReason?(v(),S("div",ds,[e[90]||(e[90]=l("div",{class:"reason-label"},"é©³å›æ„è§ï¼š",-1)),l("div",rs,[l("div",{class:ve(["reason-text",{"reason-expanded":n.showFullReason}])},u(n.rejectionReason),3),n.rejectionReason.length>50?(v(),C(d,{key:0,type:"link",size:"small",onClick:p=>yt(n),class:"toggle-reason-btn"},{default:s(()=>[o(u(n.showFullReason?"æ”¶èµ·":"å±•å¼€"),1)]),_:2},1032,["onClick"])):_("",!0)])])):_("",!0)]))),128))])]),l("div",vs,[l("div",cs,[e[92]||(e[92]=l("h4",null,"å®¡æ ¸æ„è§",-1)),t(d,{size:"small",type:"link",onClick:Rt,disabled:!Ue.value},{default:s(()=>e[91]||(e[91]=[o(" ğŸ”„ é‡æ–°ç”Ÿæˆ ",-1)])),_:1,__:[91]},8,["disabled"])]),t(U,{value:z.value.comments,"onUpdate:value":e[9]||(e[9]=n=>z.value.comments=n),placeholder:"å®¡æ ¸æ„è§å°†æ ¹æ®ææ–™å®¡æ ¸ç»“æœè‡ªåŠ¨ç”Ÿæˆï¼Œæ‚¨ä¹Ÿå¯ä»¥æ‰‹åŠ¨ç¼–è¾‘è¡¥å……...",rows:8,"show-count":"",maxlength:1e3,class:"review-comments-textarea"},null,8,["value"]),l("div",ps,[t(xe,{message:"æç¤º",description:"å®¡æ ¸æ„è§ä¼šè‡ªåŠ¨æ ¹æ®å„ææ–™çš„å®¡æ ¸ç»“æœç”Ÿæˆï¼Œæ‚¨å¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šè¡¥å……æ•´ä½“æ„è§ã€‚",type:"info","show-icon":"",closable:!1})])]),l("div",ms,[e[94]||(e[94]=l("h4",null,"å®¡æ ¸ç»“æœ",-1)),l("div",fs,[t(f,{color:ue.value==="approved"?"green":"red",size:"large"},{default:s(()=>[o(u(ue.value==="approved"?"ææ–™å®¡æ ¸é€šè¿‡":"ææ–™å®¡æ ¸ä¸é€šè¿‡"),1)]),_:1},8,["color"]),e[93]||(e[93]=l("span",{class:"result-tip"}," ï¼ˆæ ¹æ®ææ–™å®¡æ ¸çŠ¶æ€è‡ªåŠ¨ç¡®å®šï¼‰ ",-1))])]),z.value.result==="rejected"?(v(),S("div",_s,[t(R,{label:"ä¸é€šè¿‡åŸå› ",required:""},{default:s(()=>[t(U,{value:z.value.rejectionReason,"onUpdate:value":e[10]||(e[10]=n=>z.value.rejectionReason=n),placeholder:"è¯·è¯¦ç»†è¯´æ˜ææ–™ä¸é€šè¿‡çš„å…·ä½“åŸå› ï¼ŒæŒ‡å‡ºéœ€è¦è¡¥å……æˆ–ä¿®æ”¹çš„å†…å®¹...",rows:4,"show-count":"",maxlength:500},null,8,["value"])]),_:1})])):_("",!0),l("div",gs,[t(fe,null,{default:s(()=>[t(d,{onClick:Xe},{default:s(()=>e[95]||(e[95]=[o(" å–æ¶ˆ ",-1)])),_:1,__:[95]}),t(d,{type:"primary",onClick:Ze},{default:s(()=>e[96]||(e[96]=[o(" æäº¤å®¡æ ¸ ",-1)])),_:1,__:[96]})]),_:1})])])):_("",!0)]),_:1},8,["open"]),t(H,{open:Y.value,"onUpdate:open":e[13]||(e[13]=n=>Y.value=n),title:"å¡«å†™é©³å›æ„è§",width:"500px",onOk:St,onCancel:kt},{default:s(()=>[I.value?(v(),S("div",ws,[l("div",ys,[l("h4",null,u(I.value.name),1),l("p",bs,u(I.value.type),1)]),t(ee,{layout:"vertical"},{default:s(()=>[t(R,{label:"é©³å›åŸå› ",required:""},{default:s(()=>[t(U,{value:D.value.reason,"onUpdate:value":e[12]||(e[12]=n=>D.value.reason=n),placeholder:"è¯·è¯¦ç»†è¯´æ˜è¯¥ææ–™çš„é—®é¢˜å’Œæ”¹è¿›è¦æ±‚...",rows:4,"show-count":"",maxlength:200},null,8,["value"])]),_:1})]),_:1})])):_("",!0)]),_:1},8,["open"]),t(H,{open:W.value,"onUpdate:open":e[21]||(e[21]=n=>W.value=n),title:"å®‰æ’éªŒæ”¶ä¼šè®®",width:"700px",onOk:et,onCancel:tt},{default:s(()=>[i.value?(v(),S("div",Ss,[t(ee,{model:k.value,layout:"vertical"},{default:s(()=>[t(qt,{gutter:24},{default:s(()=>[t(Re,{span:12},{default:s(()=>[t(R,{label:"ä¼šè®®æ—¶é—´",required:""},{default:s(()=>[t(Ce,{value:k.value.datetime,"onUpdate:value":e[14]||(e[14]=n=>k.value.datetime=n),"show-time":"",placeholder:"é€‰æ‹©ä¼šè®®æ—¶é—´",style:{width:"100%"}},null,8,["value"])]),_:1})]),_:1}),t(Re,{span:12},{default:s(()=>[t(R,{label:"ä¼šè®®åœ°ç‚¹",required:""},{default:s(()=>[t(Ut,{value:k.value.location,"onUpdate:value":e[15]||(e[15]=n=>k.value.location=n),placeholder:"è¯·è¾“å…¥ä¼šè®®åœ°ç‚¹"},null,8,["value"])]),_:1})]),_:1})]),_:1}),t(R,{label:"ä¼šè®®å½¢å¼",required:""},{default:s(()=>[t(_e,{value:k.value.type,"onUpdate:value":e[16]||(e[16]=n=>k.value.type=n)},{default:s(()=>[t(B,{value:"offline"},{default:s(()=>e[97]||(e[97]=[o("ç°åœºä¼šè®®",-1)])),_:1,__:[97]}),t(B,{value:"online"},{default:s(()=>e[98]||(e[98]=[o("çº¿ä¸Šä¼šè®®",-1)])),_:1,__:[98]}),t(B,{value:"hybrid"},{default:s(()=>e[99]||(e[99]=[o("æ··åˆä¼šè®®",-1)])),_:1,__:[99]})]),_:1},8,["value"])]),_:1}),t(R,{label:"ä¼šè®®ä¸»æŒäºº",required:""},{default:s(()=>[t(j,{value:k.value.hosts,"onUpdate:value":e[17]||(e[17]=n=>k.value.hosts=n),mode:"tags",placeholder:"é€‰æ‹©æˆ–è¾“å…¥ä¸»æŒäººï¼ˆå¯é€‰æ‹©å¤šä¸ªæˆ–æ‰‹åŠ¨è¾“å…¥ï¼‰",style:{width:"100%"},options:Fe.value,"filter-option":lt},{tagRender:s(({label:n,onClose:p})=>[t(f,{color:"blue",closable:"",onClose:p,style:{"margin-right":"4px","margin-bottom":"4px"}},{default:s(()=>[o(u(n),1)]),_:2},1032,["onClose"])]),_:1},8,["value","options"]),e[100]||(e[100]=l("div",{class:"form-tip"},"å¯ä»ä¸‹æ‹‰åˆ—è¡¨é€‰æ‹©æˆ–ç›´æ¥è¾“å…¥å§“åï¼Œæ”¯æŒå¤šä¸ªä¸»æŒäºº",-1))]),_:1,__:[100]}),t(R,{label:"å‚ä¼šä¸“å®¶",required:""},{default:s(()=>[t(j,{value:k.value.experts,"onUpdate:value":e[18]||(e[18]=n=>k.value.experts=n),mode:"tags",placeholder:"é€‰æ‹©æˆ–è¾“å…¥å‚ä¼šä¸“å®¶ï¼ˆå¯é€‰æ‹©å¤šä¸ªæˆ–æ‰‹åŠ¨è¾“å…¥ï¼‰",style:{width:"100%"},options:Ie.value,"filter-option":st},{tagRender:s(({label:n,onClose:p})=>[t(f,{color:"green",closable:"",onClose:p,style:{"margin-right":"4px","margin-bottom":"4px"}},{default:s(()=>[o(u(n),1)]),_:2},1032,["onClose"])]),_:1},8,["value","options"]),e[101]||(e[101]=l("div",{class:"form-tip"},"å¯ä»ä¸‹æ‹‰åˆ—è¡¨é€‰æ‹©æˆ–ç›´æ¥è¾“å…¥ä¸“å®¶å§“åï¼Œæ”¯æŒå¤šä¸ªä¸“å®¶",-1))]),_:1,__:[101]}),t(R,{label:"ä¼šè®®èµ„æ–™"},{default:s(()=>[l("div",ks,[t(je,{"file-list":k.value.materials,"onUpdate:fileList":e[19]||(e[19]=n=>k.value.materials=n),"before-upload":at,"on-remove":nt,multiple:"",accept:".pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx,.zip,.rar"},{default:s(()=>[t(d,null,{default:s(()=>[t(m(Me)),e[102]||(e[102]=o(" ä¸Šä¼ ä¼šè®®èµ„æ–™ ",-1))]),_:1,__:[102]})]),_:1},8,["file-list"]),e[104]||(e[104]=l("div",{class:"upload-tip"}," æ”¯æŒä¸Šä¼ PDFã€Wordã€PPTã€Excelã€å‹ç¼©åŒ…ç­‰æ ¼å¼ï¼Œå•ä¸ªæ–‡ä»¶ä¸è¶…è¿‡50MB ",-1)),k.value.materials&&k.value.materials.length>0?(v(),S("div",xs,[(v(!0),S(le,null,re(k.value.materials,(n,p)=>(v(),S("div",{key:p,class:"material-item"},[t(m(q),{class:"file-icon"}),l("span",Cs,u(n.name),1),l("span",Rs,u(Se(n.size)),1),t(d,{type:"link",danger:"",size:"small",onClick:M=>it(p)},{default:s(()=>e[103]||(e[103]=[o(" åˆ é™¤ ",-1)])),_:2,__:[103]},1032,["onClick"])]))),128))])):_("",!0)])]),_:1}),t(R,{label:"ä¼šè®®è¯´æ˜"},{default:s(()=>[t(U,{value:k.value.description,"onUpdate:value":e[20]||(e[20]=n=>k.value.description=n),placeholder:"è¯·å¡«å†™ä¼šè®®è¯´æ˜...",rows:3,"show-count":"",maxlength:200},null,8,["value"])]),_:1})]),_:1},8,["model"])])):_("",!0)]),_:1},8,["open"]),t(H,{open:Q.value,"onUpdate:open":e[27]||(e[27]=n=>Q.value=n),title:"å½•å…¥éªŒæ”¶ç»“è®º",width:"800px",onOk:rt,onCancel:vt},{default:s(()=>[i.value?(v(),S("div",js,[l("div",zs,[e[105]||(e[105]=l("h4",null,"ä¼šè®®ä¿¡æ¯",-1)),t(P,{column:2,bordered:"",size:"small"},{default:s(()=>{var n,p;return[t(g,{label:"é¡¹ç›®åç§°",span:2},{default:s(()=>[o(u(i.value.name),1)]),_:1}),t(g,{label:"ä¼šè®®æ—¶é—´"},{default:s(()=>{var M;return[o(u(((M=i.value.meetingInfo)==null?void 0:M.time)||"ä¼šè®®æ—¶é—´å¾…ç¡®å®š"),1)]}),_:1}),t(g,{label:"ä¼šè®®åœ°ç‚¹"},{default:s(()=>{var M;return[o(u(((M=i.value.meetingInfo)==null?void 0:M.location)||"ä¼šè®®åœ°ç‚¹å¾…ç¡®å®š"),1)]}),_:1}),(n=i.value.meetingInfo)!=null&&n.type?(v(),C(g,{key:0,label:"ä¼šè®®å½¢å¼"},{default:s(()=>[o(u(i.value.meetingInfo.type==="offline"?"ç°åœºä¼šè®®":i.value.meetingInfo.type==="online"?"çº¿ä¸Šä¼šè®®":"æ··åˆä¼šè®®"),1)]),_:1})):_("",!0),(p=i.value.meetingInfo)!=null&&p.description?(v(),C(g,{key:1,label:"ä¼šè®®è¯´æ˜",span:2},{default:s(()=>[o(u(i.value.meetingInfo.description),1)]),_:1})):_("",!0)]}),_:1})]),t(ee,{model:y.value,layout:"vertical"},{default:s(()=>[t(R,{label:"éªŒæ”¶ç»“è®º",required:""},{default:s(()=>[t(_e,{value:y.value.conclusion,"onUpdate:value":e[22]||(e[22]=n=>y.value.conclusion=n)},{default:s(()=>[t(B,{value:"passed"},{default:s(()=>e[106]||(e[106]=[o("éªŒæ”¶é€šè¿‡",-1)])),_:1,__:[106]}),t(B,{value:"conditional_passed"},{default:s(()=>e[107]||(e[107]=[o("æœ‰æ¡ä»¶é€šè¿‡",-1)])),_:1,__:[107]}),t(B,{value:"failed"},{default:s(()=>e[108]||(e[108]=[o("éªŒæ”¶ä¸é€šè¿‡",-1)])),_:1,__:[108]})]),_:1},8,["value"])]),_:1}),t(R,{label:"éªŒæ”¶è¯„åˆ†"},{default:s(()=>[t(Dt,{value:y.value.score,"onUpdate:value":e[23]||(e[23]=n=>y.value.score=n),min:0,max:100,placeholder:"è¯·è¾“å…¥è¯„åˆ†",style:{width:"200px"}},null,8,["value"]),e[109]||(e[109]=l("span",{style:{"margin-left":"8px"}},"åˆ†",-1))]),_:1,__:[109]}),t(R,{label:"ç»“è®ºè¯´æ˜",required:""},{default:s(()=>[t(U,{value:y.value.description,"onUpdate:value":e[24]||(e[24]=n=>y.value.description=n),placeholder:"è¯·è¯¦ç»†è¯´æ˜éªŒæ”¶ç»“è®º...",rows:4,"show-count":"",maxlength:500},null,8,["value"])]),_:1}),y.value.conclusion!=="passed"?(v(),C(R,{key:0,label:"æ•´æ”¹è¦æ±‚"},{default:s(()=>[t(U,{value:y.value.requirements,"onUpdate:value":e[25]||(e[25]=n=>y.value.requirements=n),placeholder:"è¯·å¡«å†™æ•´æ”¹è¦æ±‚...",rows:3,"show-count":"",maxlength:300},null,8,["value"])]),_:1})):_("",!0),t(R,{label:"ç»“è®ºç›¸å…³æ–‡ä»¶"},{default:s(()=>[l("div",hs,[t(je,{"file-list":y.value.conclusionFiles,"onUpdate:fileList":e[26]||(e[26]=n=>y.value.conclusionFiles=n),"before-upload":ot,"on-remove":ut,multiple:"",accept:".pdf,.doc,.docx,.xls,.xlsx"},{default:s(()=>[t(d,null,{default:s(()=>[t(m(Me)),e[110]||(e[110]=o(" ä¸Šä¼ ç»“è®ºæ–‡ä»¶ ",-1))]),_:1,__:[110]})]),_:1},8,["file-list"]),y.value.conclusionFiles.length>0?(v(),S("div",Ms,[(v(!0),S(le,null,re(y.value.conclusionFiles,(n,p)=>(v(),S("div",{key:p,class:"file-item"},[t(m(q),{class:"file-icon"}),l("span",Ts,u(n.name),1),l("span",Fs,u(Se(n.size)),1),t(d,{type:"link",danger:"",size:"small",onClick:M=>dt(p)},{default:s(()=>e[111]||(e[111]=[o(" åˆ é™¤ ",-1)])),_:2,__:[111]},1032,["onClick"])]))),128))])):_("",!0),e[112]||(e[112]=l("div",{class:"upload-tip"},[l("small",{style:{color:"#999"}}," æ”¯æŒä¸Šä¼  PDFã€Wordã€Excel æ–‡ä»¶ï¼Œå•ä¸ªæ–‡ä»¶å¤§å°ä¸è¶…è¿‡ 20MB ")],-1))])]),_:1})]),_:1},8,["model"])])):_("",!0)]),_:1},8,["open"]),t(H,{open:G.value,"onUpdate:open":e[37]||(e[37]=n=>G.value=n),title:"å®¡æ ¸æ•´æ”¹ææ–™",width:"900px",onOk:ct,onCancel:pt},{default:s(()=>[i.value?(v(),S("div",Is,[l("div",$s,[e[113]||(e[113]=l("h4",null,"é¡¹ç›®åŸºæœ¬ä¿¡æ¯",-1)),t(P,{column:2,bordered:"",size:"small"},{default:s(()=>[t(g,{label:"é¡¹ç›®åç§°",span:2},{default:s(()=>[o(u(i.value.name),1)]),_:1}),t(g,{label:"é¡¹ç›®ç¼–å·"},{default:s(()=>[o(u(i.value.code),1)]),_:1}),t(g,{label:"æäº¤æ—¶é—´"},{default:s(()=>[o(u(i.value.submitTime),1)]),_:1})]),_:1})]),i.value.conclusion&&i.value.conclusion.requirements?(v(),S("div",Os,[e[114]||(e[114]=l("h4",null,"åŸå§‹æ•´æ”¹è¦æ±‚",-1)),l("div",Us,[t(xe,{type:"warning","show-icon":"",message:i.value.conclusion.requirements},null,8,["message"])])])):_("",!0),l("div",qs,[e[130]||(e[130]=l("h4",null,"ç”³è¯·äººæäº¤çš„æ•´æ”¹ææ–™",-1)),l("div",Ds,[l("div",Ps,[l("div",Bs,[l("div",Vs,[t(m(q)),e[115]||(e[115]=o(" æ•°æ®å¤‡ä»½æœºåˆ¶è¯´æ˜.pdf ",-1))]),l("div",Es,[e[116]||(e[116]=l("span",{class:"material-type"},"æ•´æ”¹ææ–™",-1)),e[117]||(e[117]=l("span",{class:"material-size"},"2.3MB",-1)),l("span",Hs,u(i.value.improvementSubmitTime||"2024-01-28 14:30"),1)])]),l("div",Ls,[t(d,{type:"link",size:"small",onClick:e[28]||(e[28]=n=>X({name:"æ•°æ®å¤‡ä»½æœºåˆ¶è¯´æ˜.pdf"}))},{default:s(()=>[t(m(se)),e[118]||(e[118]=o(" é¢„è§ˆ ",-1))]),_:1,__:[118]}),t(d,{type:"link",size:"small",onClick:e[29]||(e[29]=n=>A({name:"æ•°æ®å¤‡ä»½æœºåˆ¶è¯´æ˜.pdf"}))},{default:s(()=>[t(m(ae)),e[119]||(e[119]=o(" ä¸‹è½½ ",-1))]),_:1,__:[119]})])]),l("div",Ys,[l("div",As,[l("div",Js,[t(m(q)),e[120]||(e[120]=o(" ç³»ç»Ÿç•Œé¢ä¼˜åŒ–æŠ¥å‘Š.pdf ",-1))]),l("div",Ws,[e[121]||(e[121]=l("span",{class:"material-type"},"æ•´æ”¹ææ–™",-1)),e[122]||(e[122]=l("span",{class:"material-size"},"1.8MB",-1)),l("span",Qs,u(i.value.improvementSubmitTime||"2024-01-28 14:30"),1)])]),l("div",Gs,[t(d,{type:"link",size:"small",onClick:e[30]||(e[30]=n=>X({name:"ç³»ç»Ÿç•Œé¢ä¼˜åŒ–æŠ¥å‘Š.pdf"}))},{default:s(()=>[t(m(se)),e[123]||(e[123]=o(" é¢„è§ˆ ",-1))]),_:1,__:[123]}),t(d,{type:"link",size:"small",onClick:e[31]||(e[31]=n=>A({name:"ç³»ç»Ÿç•Œé¢ä¼˜åŒ–æŠ¥å‘Š.pdf"}))},{default:s(()=>[t(m(ae)),e[124]||(e[124]=o(" ä¸‹è½½ ",-1))]),_:1,__:[124]})])]),l("div",Ks,[l("div",Ns,[l("div",Xs,[t(m(q)),e[125]||(e[125]=o(" ç³»ç»Ÿæ“ä½œè¯´æ˜æ–‡æ¡£.docx ",-1))]),l("div",Zs,[e[126]||(e[126]=l("span",{class:"material-type"},"æ•´æ”¹ææ–™",-1)),e[127]||(e[127]=l("span",{class:"material-size"},"1.2MB",-1)),l("span",ea,u(i.value.improvementSubmitTime||"2024-01-28 14:30"),1)])]),l("div",ta,[t(d,{type:"link",size:"small",onClick:e[32]||(e[32]=n=>X({name:"ç³»ç»Ÿæ“ä½œè¯´æ˜æ–‡æ¡£.docx"}))},{default:s(()=>[t(m(se)),e[128]||(e[128]=o(" é¢„è§ˆ ",-1))]),_:1,__:[128]}),t(d,{type:"link",size:"small",onClick:e[33]||(e[33]=n=>A({name:"ç³»ç»Ÿæ“ä½œè¯´æ˜æ–‡æ¡£.docx"}))},{default:s(()=>[t(m(ae)),e[129]||(e[129]=o(" ä¸‹è½½ ",-1))]),_:1,__:[129]})])])])]),l("div",la,[e[134]||(e[134]=l("h4",null,"ç”³è¯·äººæ•´æ”¹è¯´æ˜",-1)),l("div",sa,[t(Pt,{size:"small",class:"improvement-description-card"},{default:s(()=>[l("div",aa,[e[133]||(e[133]=l("p",null,[l("strong",null,"æ•´æ”¹å®Œæˆæƒ…å†µï¼š")],-1)),l("div",na,[l("p",null,u(i.value.improvementDescription||"1. å·²å®Œå–„æ•°æ®å¤‡ä»½æœºåˆ¶ï¼Œå»ºç«‹äº†è‡ªåŠ¨å¤‡ä»½å’Œæ‰‹åŠ¨å¤‡ä»½åŒé‡ä¿éšœä½“ç³»ï¼›"),1),e[131]||(e[131]=l("p",null,u("2. ä¼˜åŒ–äº†ç³»ç»Ÿç•Œé¢å¸ƒå±€ï¼Œæå‡ç”¨æˆ·äº¤äº’ä½“éªŒï¼›"),-1)),e[132]||(e[132]=l("p",null,u("3. ç¼–å†™äº†è¯¦ç»†çš„æ“ä½œè¯´æ˜æ–‡æ¡£ï¼Œä¾¿äºç”¨æˆ·ä½¿ç”¨ã€‚"),-1))]),l("div",ia,[t(m(we)),l("span",null,"æäº¤æ—¶é—´ï¼š"+u(i.value.improvementSubmitTime||"2024-01-28 14:30"),1)])])]),_:1})])]),l("div",oa,[e[137]||(e[137]=l("h4",null,"å®¡æ ¸ç»“æœ",-1)),t(ee,{layout:"vertical"},{default:s(()=>[t(R,{label:"å®¡æ ¸ç»“è®º",required:""},{default:s(()=>[t(_e,{value:$.value.result,"onUpdate:value":e[34]||(e[34]=n=>$.value.result=n),class:"review-result-group"},{default:s(()=>[t(B,{value:"approved",class:"review-option"},{default:s(()=>[t(m(pe),{style:{color:"#52c41a","margin-right":"8px"}}),e[135]||(e[135]=o(" æ•´æ”¹å®Œæˆï¼ŒéªŒæ”¶é€šè¿‡ ",-1))]),_:1,__:[135]}),t(B,{value:"rejected",class:"review-option"},{default:s(()=>[t(m(ze),{style:{color:"#faad14","margin-right":"8px"}}),e[136]||(e[136]=o(" æ•´æ”¹ä¸æ»¡è¶³è¦æ±‚ï¼Œéœ€è¦ç»§ç»­æ•´æ”¹ ",-1))]),_:1,__:[136]})]),_:1},8,["value"])]),_:1}),t(R,{label:"å®¡æ ¸æ„è§",required:""},{default:s(()=>[t(U,{value:$.value.comments,"onUpdate:value":e[35]||(e[35]=n=>$.value.comments=n),placeholder:"è¯·å¡«å†™è¯¦ç»†çš„å®¡æ ¸æ„è§...",rows:4,"show-count":"",maxlength:500},null,8,["value"])]),_:1}),$.value.result==="rejected"?(v(),C(R,{key:0,label:"æ–°çš„æ•´æ”¹è¦æ±‚",required:""},{default:s(()=>[t(U,{value:$.value.requirements,"onUpdate:value":e[36]||(e[36]=n=>$.value.requirements=n),placeholder:"è¯·æ˜ç¡®æŒ‡å‡ºéœ€è¦ç»§ç»­æ•´æ”¹çš„å…·ä½“å†…å®¹å’Œè¦æ±‚...",rows:3,"show-count":"",maxlength:300},null,8,["value"])]),_:1})):_("",!0)]),_:1})])])):_("",!0)]),_:1},8,["open"]),t(H,{open:K.value,"onUpdate:open":e[40]||(e[40]=n=>K.value=n),title:"è®¾ç½®éªŒæ”¶æŠ¥å‘Šä¼šæ—¶é—´",onOk:Mt,onCancel:Tt},{default:s(()=>[i.value?(v(),S("div",ua,[l("div",da,[e[138]||(e[138]=l("h4",null,"é¡¹ç›®åŸºæœ¬ä¿¡æ¯",-1)),t(P,{column:2,bordered:"",size:"small"},{default:s(()=>[t(g,{label:"é¡¹ç›®åç§°",span:2},{default:s(()=>[o(u(i.value.name),1)]),_:1}),t(g,{label:"é¡¹ç›®ç¼–å·"},{default:s(()=>[o(u(i.value.code),1)]),_:1}),t(g,{label:"ç”³è¯·äºº"},{default:s(()=>[o(u(i.value.applicant),1)]),_:1})]),_:1})]),t(ee,{model:O.value,layout:"vertical"},{default:s(()=>[t(R,{label:"æŠ¥å‘Šä¼šæ—¶é—´",required:""},{default:s(()=>[t(Ce,{value:O.value.datetime,"onUpdate:value":e[38]||(e[38]=n=>O.value.datetime=n),"show-time":"",placeholder:"é€‰æ‹©æŠ¥å‘Šä¼šæ—¶é—´",style:{width:"100%"},"disabled-date":Ft},null,8,["value"])]),_:1}),t(R,{label:"æ—¶é—´è¯´æ˜"},{default:s(()=>[t(U,{value:O.value.remark,"onUpdate:value":e[39]||(e[39]=n=>O.value.remark=n),placeholder:"å¯é€‰æ‹©æ·»åŠ æ—¶é—´è®¾ç½®è¯´æ˜...",rows:3,"show-count":"",maxlength:200},null,8,["value"])]),_:1})]),_:1},8,["model"])])):_("",!0)]),_:1},8,["open"]),t(H,{open:ie.value,"onUpdate:open":e[41]||(e[41]=n=>ie.value=n),title:"é¡¹ç›®è¯¦æƒ…",width:"1000px",footer:null,onCancel:Ne},{default:s(()=>[i.value?(v(),S("div",ra,[l("div",va,[l("h4",null,[t(m(Kt)),e[139]||(e[139]=o(" é¡¹ç›®åŸºæœ¬ä¿¡æ¯",-1))]),t(P,{column:2,bordered:"",size:"small"},{default:s(()=>[t(g,{label:"é¡¹ç›®åç§°",span:2},{default:s(()=>[o(u(i.value.name),1)]),_:1}),t(g,{label:"é¡¹ç›®ç¼–å·"},{default:s(()=>[o(u(i.value.code),1)]),_:1}),t(g,{label:"ç”³è¯·æ—¶é—´"},{default:s(()=>[o(u(i.value.submitTime),1)]),_:1}),t(g,{label:"å½“å‰çŠ¶æ€"},{default:s(()=>[t(f,{color:He(i.value.currentStatus)},{default:s(()=>[o(u(Le(i.value.currentStatus)),1)]),_:1},8,["color"])]),_:1}),t(g,{label:"ææ–™çŠ¶æ€"},{default:s(()=>[t(f,{color:i.value.materialStatus==="approved"?"green":i.value.materialStatus==="rejected"?"red":"orange"},{default:s(()=>[o(u(i.value.materialStatus==="approved"?"å·²é€šè¿‡":i.value.materialStatus==="rejected"?"å·²é©³å›":"å®¡æ ¸ä¸­"),1)]),_:1},8,["color"])]),_:1}),i.value.meetingScheduled?(v(),C(g,{key:0,label:"ä¼šè®®çŠ¶æ€"},{default:s(()=>[t(f,{color:"blue"},{default:s(()=>[o(u(i.value.meetingStatus==="completed"?"å·²å®Œæˆ":i.value.meetingStatus==="scheduled"?"å·²å®‰æ’":"å‡†å¤‡ä¸­"),1)]),_:1})]),_:1})):_("",!0),i.value.finalResult?(v(),C(g,{key:1,label:"æœ€ç»ˆç»“æœ"},{default:s(()=>[t(f,{color:i.value.finalResult==="passed"?"green":i.value.finalResult==="failed"?"red":"orange"},{default:s(()=>[o(u(i.value.finalResult==="passed"?"éªŒæ”¶é€šè¿‡":i.value.finalResult==="failed"?"éªŒæ”¶ä¸é€šè¿‡":"æœ‰æ¡ä»¶é€šè¿‡"),1)]),_:1},8,["color"])]),_:1})):_("",!0)]),_:1})]),l("div",ca,[l("h4",null,[t(m(q)),e[140]||(e[140]=o(" éªŒæ”¶ææ–™",-1))]),l("div",pa,[(v(!0),S(le,null,re(i.value.materials,n=>(v(),S("div",{key:n.id,class:"material-item"},[l("div",ma,[l("div",fa,[t(m(q)),o(" "+u(n.name),1)]),l("div",_a,[l("span",ga,u(n.type),1),t(f,{color:n.reviewStatus==="approved"?"green":n.reviewStatus==="rejected"?"red":"orange",size:"small"},{default:s(()=>[o(u(n.reviewStatus==="approved"?"å·²é€šè¿‡":n.reviewStatus==="rejected"?"å·²é©³å›":"å¾…å®¡æ ¸"),1)]),_:2},1032,["color"])])]),l("div",wa,[t(d,{type:"link",size:"small",onClick:p=>X(n)},{default:s(()=>[t(m(se)),e[141]||(e[141]=o(" é¢„è§ˆ ",-1))]),_:2,__:[141]},1032,["onClick"]),t(d,{type:"link",size:"small",onClick:p=>A(n)},{default:s(()=>[t(m(ae)),e[142]||(e[142]=o(" ä¸‹è½½ ",-1))]),_:2,__:[142]},1032,["onClick"])])]))),128))])]),i.value.meetingInfo?(v(),S("div",ya,[l("h4",null,[t(m(ce)),e[143]||(e[143]=o(" ä¼šè®®ä¿¡æ¯",-1))]),t(P,{column:2,bordered:"",size:"small"},{default:s(()=>[t(g,{label:"ä¼šè®®æ—¶é—´"},{default:s(()=>[o(u(i.value.meetingInfo.time),1)]),_:1}),t(g,{label:"ä¼šè®®åœ°ç‚¹"},{default:s(()=>[o(u(i.value.meetingInfo.location),1)]),_:1}),t(g,{label:"ä¼šè®®å½¢å¼",span:2},{default:s(()=>[o(u(i.value.meetingInfo.type==="offline"?"ç°åœºä¼šè®®":i.value.meetingInfo.type==="online"?"çº¿ä¸Šä¼šè®®":"æ··åˆä¼šè®®"),1)]),_:1}),i.value.meetingInfo.description?(v(),C(g,{key:0,label:"ä¼šè®®è¯´æ˜",span:2},{default:s(()=>[o(u(i.value.meetingInfo.description),1)]),_:1})):_("",!0)]),_:1})])):_("",!0),i.value.conclusion?(v(),S("div",ba,[l("h4",null,[t(m(ge)),e[144]||(e[144]=o(" éªŒæ”¶ç»“è®º",-1))]),t(P,{column:2,bordered:"",size:"small"},{default:s(()=>[t(g,{label:"éªŒæ”¶ç»“æœ"},{default:s(()=>[t(f,{color:i.value.conclusion.result==="passed"?"green":i.value.conclusion.result==="failed"?"red":"orange"},{default:s(()=>[o(u(i.value.conclusion.result==="passed"?"éªŒæ”¶é€šè¿‡":i.value.conclusion.result==="failed"?"éªŒæ”¶ä¸é€šè¿‡":"æœ‰æ¡ä»¶é€šè¿‡"),1)]),_:1},8,["color"])]),_:1}),t(g,{label:"éªŒæ”¶æ—¶é—´"},{default:s(()=>[o(u(i.value.conclusion.time),1)]),_:1}),i.value.conclusion.score?(v(),C(g,{key:0,label:"éªŒæ”¶è¯„åˆ†"},{default:s(()=>[l("span",{style:At({color:i.value.conclusion.score>=90?"#52c41a":i.value.conclusion.score>=80?"#fa8c16":"#ff4d4f"})},u(i.value.conclusion.score)+"åˆ† ",5)]),_:1})):_("",!0),t(g,{label:"éªŒæ”¶è¯´æ˜",span:2},{default:s(()=>[o(u(i.value.conclusion.description),1)]),_:1}),i.value.conclusion.requirements?(v(),C(g,{key:1,label:"æ•´æ”¹è¦æ±‚",span:2},{default:s(()=>[l("div",Sa,u(i.value.conclusion.requirements),1)]),_:1})):_("",!0)]),_:1})])):_("",!0),i.value.improvementSubmitted?(v(),S("div",ka,[l("h4",null,[t(m(pe)),e[145]||(e[145]=o(" æ•´æ”¹æƒ…å†µ",-1))]),t(P,{column:2,bordered:"",size:"small"},{default:s(()=>[t(g,{label:"æäº¤çŠ¶æ€"},{default:s(()=>[t(f,{color:"blue"},{default:s(()=>e[146]||(e[146]=[o("å·²æäº¤æ•´æ”¹ææ–™",-1)])),_:1,__:[146]})]),_:1}),t(g,{label:"æäº¤æ—¶é—´"},{default:s(()=>[o(u(i.value.improvementSubmitTime),1)]),_:1}),t(g,{label:"æ•´æ”¹è¯´æ˜",span:2},{default:s(()=>[l("div",xa,u(i.value.improvementDescription),1)]),_:1})]),_:1})])):_("",!0),l("div",Ca,[l("h4",null,[t(m(we)),e[147]||(e[147]=o(" å®¡æ ¸å†å²",-1))]),t(Bt,null,{default:s(()=>[t(te,{color:"blue"},{dot:s(()=>[t(m(q))]),default:s(()=>[l("div",Ra,[e[148]||(e[148]=l("div",{class:"timeline-title"},"é¡¹ç›®éªŒæ”¶ç”³è¯·æäº¤",-1)),l("div",ja,u(i.value.submitTime),1)])]),_:1}),i.value.materialStatus==="approved"?(v(),C(te,{key:0,color:"green"},{dot:s(()=>[t(m(pe))]),default:s(()=>[l("div",za,[e[149]||(e[149]=l("div",{class:"timeline-title"},"ææ–™å®¡æ ¸é€šè¿‡",-1)),l("div",ha,u(i.value.materialReviewTime||"2024-01-18"),1)])]),_:1})):_("",!0),i.value.meetingScheduled?(v(),C(te,{key:1,color:"blue"},{dot:s(()=>[t(m(ce))]),default:s(()=>{var n;return[l("div",Ma,[e[150]||(e[150]=l("div",{class:"timeline-title"},"éªŒæ”¶ä¼šè®®å®‰æ’",-1)),l("div",Ta,u((n=i.value.meetingInfo)==null?void 0:n.time),1)])]}),_:1})):_("",!0),i.value.conclusion?(v(),C(te,{key:2,color:i.value.conclusion.result==="passed"?"green":i.value.conclusion.result==="failed"?"red":"orange"},{dot:s(()=>[t(m(ge))]),default:s(()=>[l("div",Fa,[l("div",Ia,u(i.value.conclusion.result==="passed"?"éªŒæ”¶é€šè¿‡":i.value.conclusion.result==="failed"?"éªŒæ”¶ä¸é€šè¿‡":"æœ‰æ¡ä»¶é€šè¿‡"),1),l("div",$a,u(i.value.conclusion.time),1)])]),_:1},8,["color"])):_("",!0),i.value.improvementSubmitted?(v(),C(te,{key:3,color:"blue"},{dot:s(()=>[t(m(q))]),default:s(()=>[l("div",Oa,[e[151]||(e[151]=l("div",{class:"timeline-title"},"æ•´æ”¹ææ–™æäº¤",-1)),l("div",Ua,u(i.value.improvementSubmitTime),1)])]),_:1})):_("",!0)]),_:1})])])):_("",!0)]),_:1},8,["open"]),t(Vt,{visible:me.value,"onUpdate:visible":e[42]||(e[42]=n=>me.value=n),"file-info":be.value,onDownload:mt},null,8,["visible","file-info"])])}}},Ea=Xt(qa,[["__scopeId","data-v-c9210ef6"]]);export{Ea as default};
