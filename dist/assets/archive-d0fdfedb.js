import{P as de}from"./PageContainer-35f97943.js";import{_ as ce}from"./index-b9d63c8b.js";import{u as ue,S as me,m as f,R as re,v as S,E as x,l as O,d as _e,f as pe,T as ve}from"./antd-3abeaf7b.js";import{f as C,c as he,o as ge,S as m,U as o,_ as u,X as n,k as a,u as r,G as d,W as s,V as p,Y as z,F as D,a0 as g,Z as i,$ as k}from"./vendor-9e962977.js";/* empty css                                                                      */const fe={class:"query-section"},ke={class:"archive-list"},ye={class:"project-header"},Ce={class:"project-basic"},be={class:"project-main-info"},we={class:"project-name"},Me={class:"project-meta"},xe={class:"project-leader"},ze={class:"project-duration"},De={class:"project-status"},$e={class:"project-quick-stats"},Pe={class:"stat-item"},Te={class:"stat-value"},Be={class:"stat-item"},Ne={class:"stat-value"},Se={class:"stat-item"},Oe={class:"stat-value"},Re={class:"project-phases"},Ve={class:"phases-container"},Ae={class:"phase-icon"},Le={class:"phase-content"},Ue={class:"phase-time"},Ee={class:"phase-meeting"},Fe={class:"phase-conclusion"},qe={class:"phase-actions"},He={class:"phase-icon"},Ie={class:"phase-content"},Je={class:"phase-time"},Ge={class:"phase-meeting"},Qe={class:"phase-conclusion"},We={class:"phase-actions"},Xe={class:"phase-icon"},Ye={class:"phase-content"},Ze={class:"phase-time"},Ke={class:"phase-meeting"},je={class:"phase-conclusion"},es={class:"phase-actions"},ss={class:"phase-icon"},ts={class:"phase-content"},as={class:"phase-time"},ns={class:"achievements-list"},is={key:0,class:"achievement-summary"},ls={key:0,class:"more-achievements"},os={key:1,class:"no-achievements"},ds={class:"phase-actions"},cs={key:0,class:"empty-state"},us={key:0,class:"phase-detail"},ms={class:"detail-section"},rs={key:0,class:"detail-section"},_s={class:"material-item"},ps={class:"material-info"},vs={class:"material-name"},hs={class:"material-size"},gs={class:"material-actions"},fs={key:1,class:"detail-section"},ks={class:"review-list"},ys={class:"review-header"},Cs={class:"reviewer-name"},bs={class:"review-time"},ws={class:"review-content"},Ms={class:"review-score"},xs={class:"score-text"},zs={key:2,class:"detail-section"},Ds={class:"meeting-minutes"},$s={class:"minutes-header"},Ps={class:"minutes-info"},Ts={class:"info-item"},Bs={class:"info-item"},Ns={class:"info-item"},Ss={class:"minutes-content"},Os={class:"content-section"},Rs={class:"attendees"},Vs={class:"content-section"},As={class:"meeting-content"},Ls={class:"content-section"},Us={class:"meeting-conclusion"},Es={__name:"archive",setup(Fs){const v=C({projectName:"",status:void 0,dateRange:void 0}),A=C([{id:1,name:"智慧城市大数据平台建设项目",code:"PROJ-2024-001",leader:"张三",startDate:"2023-06-01",endDate:"2024-05-31",currentStatus:"acceptance",phases:{opening:{status:"completed",time:"2023-06-15",startTime:"2023-06-01",endTime:"2023-06-20",meetingDate:"2023-06-15 14:00",meetingLocation:"会议室A-301",meetingHost:"李主任",conclusion:"开题通过，同意按计划实施",attendees:["张三","李四","王五","赵六"],meetingMinutes:"经过专家组评审，项目开题报告内容详实，技术路线清晰，预期目标明确，同意按计划实施。",materials:[{id:1,name:"开题报告.pdf",size:"2.5MB"},{id:2,name:"技术方案.docx",size:"1.8MB"}],reviews:[{id:1,reviewer:"专家A",time:"2023-06-15",content:"项目技术路线合理，目标明确，建议按计划实施。",score:85}]},midterm:{status:"completed",time:"2023-12-10",startTime:"2023-12-01",endTime:"2023-12-15",meetingDate:"2023-12-10 09:00",meetingLocation:"会议室B-201",meetingHost:"王主任",conclusion:"中期检查通过，项目进展良好",attendees:["张三","李四","专家B","专家C"],meetingMinutes:"项目按计划推进，阶段性成果显著，技术指标达到预期，建议继续实施。",materials:[{id:3,name:"中期报告.pdf",size:"3.2MB"},{id:4,name:"阶段成果.zip",size:"15.6MB"}],reviews:[{id:2,reviewer:"专家B",time:"2023-12-10",content:"项目进展顺利，阶段性成果良好，建议继续实施。",score:88}]},acceptance:{status:"in_progress",time:"2024-01-15",startTime:"2024-01-15",endTime:null,meetingDate:"2024-01-25 14:00",meetingLocation:"会议室A-201",conclusion:null,materials:[{id:5,name:"验收报告.pdf",size:"4.1MB"},{id:6,name:"项目总结.pdf",size:"2.8MB"}]}},stats:{duration:12,budget:500,achievements:15},achievements:[{title:"智慧城市数据分析平台V1.0",type:"软件著作权"},{title:"基于大数据的城市治理方法研究",type:"论文"},{title:"城市数据安全防护技术专利",type:"发明专利"},{title:"大数据平台架构设计报告",type:"技术报告"},{title:"智慧城市建设标准规范",type:"标准规范"}]},{id:2,name:"区块链供应链金融平台",code:"PROJ-2024-002",leader:"李四",startDate:"2023-08-01",endDate:"2024-07-31",currentStatus:"midterm",phases:{opening:{status:"completed",time:"2023-08-15",meetingDate:"2023-08-15 10:00",conclusion:"开题通过"},midterm:{status:"in_progress",time:"2024-01-20",meetingDate:null,conclusion:null},acceptance:{status:"pending",time:null,meetingDate:null,conclusion:null}},stats:{duration:12,budget:300,achievements:8},achievements:[{title:"区块链供应链管理系统V1.0",type:"软件著作权"},{title:"供应链金融风险评估模型",type:"论文"},{title:"区块链数据存储优化方法",type:"发明专利"}]}]),$=C(!1),c=C(null),R=C(""),V=he(()=>{let l=A.value;return v.value.projectName&&(l=l.filter(e=>e.name.includes(v.value.projectName)||e.code.includes(v.value.projectName))),v.value.status&&(l=l.filter(e=>e.currentStatus===v.value.status)),l}),L=l=>({opening:"blue",midterm:"orange",acceptance:"purple",completed:"green"})[l]||"default",U=l=>({opening:"开题阶段",midterm:"中期阶段",acceptance:"验收阶段",completed:"已完成"})[l]||"未知",P=(l,e)=>{if(!e)return"phase-pending";switch(e.status){case"completed":return"phase-completed";case"in_progress":return"phase-active";case"pending":return"phase-pending";default:return"phase-pending"}},E=l=>l.achievements&&l.achievements.length>0?"phase-completed":"phase-pending",T=l=>({opening:"项目开题",midterm:"项目中期",acceptance:"项目验收"})[l]||"未知阶段",F=l=>({completed:"green",in_progress:"blue",pending:"default"})[l]||"default",q=l=>({completed:"已完成",in_progress:"进行中",pending:"待开始"})[l]||"未知",H=()=>{f.success("档案导出功能")},I=()=>{f.info("查询完成")},J=()=>{v.value={projectName:"",status:void 0,dateRange:void 0}},B=(l,e)=>{const _=l.phases[e];c.value={..._,type:e,projectName:l.name},R.value=`${l.name} - ${T(e)}`,$.value=!0},N=(l,e)=>{f.success(`下载${T(e)}材料`)},G=l=>{f.info(`预览材料：${l.name}`)},Q=l=>{f.success(`下载材料：${l.name}`)},W=l=>{f.info(`查看${l.name}的相关成果`)},X=l=>{f.success(`导出${l.name}的成果清单`)};return ge(()=>{}),(l,e)=>{const _=m("a-button"),Y=m("a-input"),b=m("a-form-item"),w=m("a-select-option"),Z=m("a-select"),K=m("a-range-picker"),j=m("a-space"),ee=m("a-form"),M=m("a-tag"),se=m("a-empty"),y=m("a-descriptions-item"),te=m("a-descriptions"),ae=m("a-list-item"),ne=m("a-list"),ie=m("a-rate"),le=m("a-modal");return o(),u(de,{title:"项目历史档案",description:"查看项目从开题到验收的完整历史记录"},{actions:n(()=>[a(_,{onClick:H},{default:n(()=>[a(r(ue)),e[4]||(e[4]=d(" 导出档案 ",-1))]),_:1,__:[4]})]),default:n(()=>[s("div",fe,[a(ee,{layout:"inline",model:v.value,onFinish:I},{default:n(()=>[a(b,{label:"项目名称",name:"projectName"},{default:n(()=>[a(Y,{value:v.value.projectName,"onUpdate:value":e[0]||(e[0]=t=>v.value.projectName=t),placeholder:"请输入项目名称","allow-clear":"",style:{width:"200px"}},null,8,["value"])]),_:1}),a(b,{label:"项目状态",name:"status"},{default:n(()=>[a(Z,{value:v.value.status,"onUpdate:value":e[1]||(e[1]=t=>v.value.status=t),placeholder:"请选择状态","allow-clear":"",style:{width:"150px"}},{default:n(()=>[a(w,{value:"opening"},{default:n(()=>e[5]||(e[5]=[d("开题阶段",-1)])),_:1,__:[5]}),a(w,{value:"midterm"},{default:n(()=>e[6]||(e[6]=[d("中期阶段",-1)])),_:1,__:[6]}),a(w,{value:"acceptance"},{default:n(()=>e[7]||(e[7]=[d("验收阶段",-1)])),_:1,__:[7]}),a(w,{value:"completed"},{default:n(()=>e[8]||(e[8]=[d("已完成",-1)])),_:1,__:[8]})]),_:1},8,["value"])]),_:1}),a(b,{label:"时间范围",name:"dateRange"},{default:n(()=>[a(K,{value:v.value.dateRange,"onUpdate:value":e[2]||(e[2]=t=>v.value.dateRange=t),style:{width:"240px"}},null,8,["value"])]),_:1}),a(b,null,{default:n(()=>[a(j,null,{default:n(()=>[a(_,{type:"primary","html-type":"submit"},{default:n(()=>[a(r(me)),e[9]||(e[9]=d(" 查询 ",-1))]),_:1,__:[9]}),a(_,{onClick:J},{default:n(()=>e[10]||(e[10]=[d(" 重置 ",-1)])),_:1,__:[10]})]),_:1})]),_:1})]),_:1},8,["model"])]),s("div",ke,[(o(!0),p(D,null,z(V.value,t=>(o(),p("div",{key:t.id,class:"archive-item"},[s("div",ye,[s("div",Ce,[s("div",be,[s("h3",we,i(t.name),1),s("div",Me,[a(M,{color:"blue"},{default:n(()=>[d(i(t.code),1)]),_:2},1024),s("span",xe,i(t.leader),1),s("span",ze,i(t.startDate)+" ~ "+i(t.endDate),1)])]),s("div",De,[a(M,{color:L(t.currentStatus),size:"large"},{default:n(()=>[d(i(U(t.currentStatus)),1)]),_:2},1032,["color"])])]),s("div",$e,[s("div",Pe,[s("span",Te,i(t.stats.duration),1),e[11]||(e[11]=s("span",{class:"stat-label"},"月",-1))]),s("div",Be,[s("span",Ne,i(t.stats.budget),1),e[12]||(e[12]=s("span",{class:"stat-label"},"万元",-1))]),s("div",Se,[s("span",Oe,i(t.stats.achievements),1),e[13]||(e[13]=s("span",{class:"stat-label"},"成果",-1))])])]),s("div",Re,[s("div",Ve,[s("div",{class:k(["phase-card",P("opening",t.phases.opening)])},[s("div",Ae,[t.phases.opening.status==="completed"?(o(),u(r(re),{key:0})):t.phases.opening.status==="in_progress"?(o(),u(r(S),{key:1})):(o(),u(r(x),{key:2}))]),s("div",Le,[e[14]||(e[14]=s("div",{class:"phase-title"},"项目开题",-1)),s("div",Ue,i(t.phases.opening.time||"未开始"),1),s("div",Ee," 会议："+i(t.phases.opening.meetingDate||"未安排"),1),s("div",Fe,i(t.phases.opening.conclusion||"待定"),1)]),s("div",qe,[a(_,{type:"link",size:"small",onClick:h=>B(t,"opening")},{default:n(()=>e[15]||(e[15]=[d(" 详情 ",-1)])),_:2,__:[15]},1032,["onClick"]),t.phases.opening.materials?(o(),u(_,{key:0,type:"link",size:"small",onClick:h=>N(t,"opening")},{default:n(()=>e[16]||(e[16]=[d(" 材料 ",-1)])),_:2,__:[16]},1032,["onClick"])):g("",!0)])],2),s("div",{class:k(["phase-connector",{active:t.phases.opening.status==="completed"}])},[e[17]||(e[17]=s("div",{class:"connector-line"},null,-1)),a(r(O),{class:"connector-arrow"})],2),s("div",{class:k(["phase-card",P("midterm",t.phases.midterm)])},[s("div",He,[t.phases.midterm.status==="completed"?(o(),u(r(_e),{key:0})):t.phases.midterm.status==="in_progress"?(o(),u(r(S),{key:1})):(o(),u(r(x),{key:2}))]),s("div",Ie,[e[18]||(e[18]=s("div",{class:"phase-title"},"项目中期",-1)),s("div",Je,i(t.phases.midterm.time||"未开始"),1),s("div",Ge," 会议："+i(t.phases.midterm.meetingDate||"未安排"),1),s("div",Qe,i(t.phases.midterm.conclusion||"待定"),1)]),s("div",We,[a(_,{type:"link",size:"small",onClick:h=>B(t,"midterm")},{default:n(()=>e[19]||(e[19]=[d(" 详情 ",-1)])),_:2,__:[19]},1032,["onClick"]),t.phases.midterm.materials?(o(),u(_,{key:0,type:"link",size:"small",onClick:h=>N(t,"midterm")},{default:n(()=>e[20]||(e[20]=[d(" 材料 ",-1)])),_:2,__:[20]},1032,["onClick"])):g("",!0)])],2),s("div",{class:k(["phase-connector",{active:t.phases.midterm.status==="completed"}])},[e[21]||(e[21]=s("div",{class:"connector-line"},null,-1)),a(r(O),{class:"connector-arrow"})],2),s("div",{class:k(["phase-card",P("acceptance",t.phases.acceptance)])},[s("div",Xe,[t.phases.acceptance.status==="completed"?(o(),u(r(pe),{key:0})):t.phases.acceptance.status==="in_progress"?(o(),u(r(S),{key:1})):(o(),u(r(x),{key:2}))]),s("div",Ye,[e[22]||(e[22]=s("div",{class:"phase-title"},"项目验收",-1)),s("div",Ze,i(t.phases.acceptance.time||"未开始"),1),s("div",Ke," 会议："+i(t.phases.acceptance.meetingDate||"未安排"),1),s("div",je,i(t.phases.acceptance.conclusion||"待定"),1)]),s("div",es,[a(_,{type:"link",size:"small",onClick:h=>B(t,"acceptance")},{default:n(()=>e[23]||(e[23]=[d(" 详情 ",-1)])),_:2,__:[23]},1032,["onClick"]),t.phases.acceptance.materials?(o(),u(_,{key:0,type:"link",size:"small",onClick:h=>N(t,"acceptance")},{default:n(()=>e[24]||(e[24]=[d(" 材料 ",-1)])),_:2,__:[24]},1032,["onClick"])):g("",!0)])],2),s("div",{class:k(["phase-connector",{active:t.phases.acceptance.status==="completed"}])},[e[25]||(e[25]=s("div",{class:"connector-line"},null,-1)),a(r(O),{class:"connector-arrow"})],2),s("div",{class:k(["phase-card achievements-card",E(t)])},[s("div",ss,[t.achievements&&t.achievements.length>0?(o(),u(r(ve),{key:0})):(o(),u(r(x),{key:1}))]),s("div",ts,[e[26]||(e[26]=s("div",{class:"phase-title"},"相关成果",-1)),s("div",as,i(t.achievements?t.achievements.length:0)+" 项成果 ",1),s("div",ns,[t.achievements&&t.achievements.length>0?(o(),p("div",is,[(o(!0),p(D,null,z(t.achievements.slice(0,2),(h,oe)=>(o(),p("div",{key:oe,class:"achievement-item"},i(h.title),1))),128)),t.achievements.length>2?(o(),p("div",ls," 还有 "+i(t.achievements.length-2)+" 项成果... ",1)):g("",!0)])):(o(),p("div",os," 暂无绑定成果 "))])]),s("div",ds,[a(_,{type:"link",size:"small",onClick:h=>W(t)},{default:n(()=>e[27]||(e[27]=[d(" 查看 ",-1)])),_:2,__:[27]},1032,["onClick"]),t.achievements&&t.achievements.length>0?(o(),u(_,{key:0,type:"link",size:"small",onClick:h=>X(t)},{default:n(()=>e[28]||(e[28]=[d(" 导出 ",-1)])),_:2,__:[28]},1032,["onClick"])):g("",!0)])],2)])])]))),128))]),V.value.length===0?(o(),p("div",cs,[a(se,{description:"暂无项目档案数据"})])):g("",!0),a(le,{open:$.value,"onUpdate:open":e[3]||(e[3]=t=>$.value=t),title:R.value,width:"900px",footer:null},{default:n(()=>[c.value?(o(),p("div",us,[s("div",ms,[e[29]||(e[29]=s("h4",null,"基本信息",-1)),a(te,{column:2,bordered:""},{default:n(()=>[a(y,{label:"阶段名称"},{default:n(()=>[d(i(T(c.value.type)),1)]),_:1}),a(y,{label:"当前状态"},{default:n(()=>[a(M,{color:F(c.value.status)},{default:n(()=>[d(i(q(c.value.status)),1)]),_:1},8,["color"])]),_:1}),a(y,{label:"开始时间"},{default:n(()=>[d(i(c.value.startTime),1)]),_:1}),a(y,{label:"完成时间"},{default:n(()=>[d(i(c.value.endTime||"进行中"),1)]),_:1}),a(y,{label:"会议时间"},{default:n(()=>[d(i(c.value.meetingDate||"未安排"),1)]),_:1}),a(y,{label:"会议地点"},{default:n(()=>[d(i(c.value.meetingLocation||"未定"),1)]),_:1})]),_:1})]),c.value.materials?(o(),p("div",rs,[e[32]||(e[32]=s("h4",null,"提交材料",-1)),a(ne,{"data-source":c.value.materials,size:"small"},{renderItem:n(({item:t})=>[a(ae,null,{default:n(()=>[s("div",_s,[s("div",ps,[s("span",vs,i(t.name),1),s("span",hs,i(t.size),1)]),s("div",gs,[a(_,{type:"link",size:"small",onClick:h=>G(t)},{default:n(()=>e[30]||(e[30]=[d(" 预览 ",-1)])),_:2,__:[30]},1032,["onClick"]),a(_,{type:"link",size:"small",onClick:h=>Q(t)},{default:n(()=>e[31]||(e[31]=[d(" 下载 ",-1)])),_:2,__:[31]},1032,["onClick"])])])]),_:2},1024)]),_:1},8,["data-source"])])):g("",!0),c.value.reviews?(o(),p("div",fs,[e[34]||(e[34]=s("h4",null,"专家评审意见",-1)),s("div",ks,[(o(!0),p(D,null,z(c.value.reviews,t=>(o(),p("div",{key:t.id,class:"review-item"},[s("div",ys,[s("span",Cs,i(t.reviewer),1),s("span",bs,i(t.time),1)]),s("div",ws,i(t.content),1),s("div",Ms,[e[33]||(e[33]=d(" 评分：",-1)),a(ie,{value:t.score/2,disabled:"","allow-half":""},null,8,["value"]),s("span",xs,i(t.score)+"分",1)])]))),128))])])):g("",!0),c.value.meetingMinutes?(o(),p("div",zs,[e[38]||(e[38]=s("h4",null,"会议纪要",-1)),s("div",Ds,[s("div",$s,[s("div",Ps,[s("span",Ts,"会议时间："+i(c.value.meetingDate),1),s("span",Bs,"会议地点："+i(c.value.meetingLocation),1),s("span",Ns,"主持人："+i(c.value.meetingHost),1)])]),s("div",Ss,[s("div",Os,[e[35]||(e[35]=s("h5",null,"参会人员",-1)),s("div",Rs,[(o(!0),p(D,null,z(c.value.attendees,t=>(o(),u(M,{key:t},{default:n(()=>[d(i(t),1)]),_:2},1024))),128))])]),s("div",Vs,[e[36]||(e[36]=s("h5",null,"会议内容",-1)),s("div",As,i(c.value.meetingMinutes),1)]),s("div",Ls,[e[37]||(e[37]=s("h5",null,"会议结论",-1)),s("div",Us,i(c.value.conclusion),1)])])])])):g("",!0)])):g("",!0)]),_:1},8,["open","title"])]),_:1})}}},Qs=ce(Es,[["__scopeId","data-v-50a6bd77"]]);export{Qs as default};
